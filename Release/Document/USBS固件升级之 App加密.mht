From: WizBrother WizMime<support@wizbrother.com>
Subject: =?gb2312?B?VVNCU7nMvP7J/by21q4gQXBwvNPD3A==?=
Date: Date: Wed, 15 Apr 2015 10:32:15 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0012986436.041"

This is a multi-part message in MIME format.

------=_Next_Part_0012986436.041
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0004328812.467"


------=_Next_Part_0004328812.467
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0004328812.467
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">=0A=
<HTML><HEAD>=0D=0A<meta http-equiv=3D"Content-Type" content=3D"te=
xt/html; charset=3Dgb2312"><TITLE>USBS=B9=CC=BC=FE=C9=FD=BC=B6=D6=
=AE App=BC=D3=C3=DC</TITLE>=0A=0A<STYLE type=3Dtext/css>=0Abody,=20=
p, th, td, li, ul, ol, h1, h2, h3, h4, h5, h6, pre=0A{=0A	font-fa=
mily: =CB=CE=CC=E5;=0A	line-height: 1.4;=0A}=0Abody, p, th, td, l=
i, ul, ol, pre=0A{=0A	font-size: 12px;=0A}=0A</STYLE>=0A=0A<META=20=
content=3D"MSHTML 6.00.2900.6550" name=3DGENERATOR></HEAD>=0A<BOD=
Y><FONT face=3D"Times New Roman"><FONT size=3D7><STRONG>USBS=B9=CC=
=BC=FE=C9=FD=BC=B6=D6=AE =0AApp=BC=D3=C3=DC<BR></STRONG></FONT><F=
ONT =0Asize=3D3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp; =0A--------<SPAN class=3DApple-converted-space>=
&nbsp;</SPAN></FONT></FONT><SPAN =0Astyle=3D"FONT-FAMILY: =CB=CE=CC=
=E5"><FONT size=3D3>=D7=AA=D4=D8=C7=EB=D7=A2=C3=F7=B3=F6=B4=A6<BR=
><FONT =0Aface=3D"Times New Roman">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A--------<SPAN class=3DApp=
le-converted-space>&nbsp;=B8=FC=B6=E0=B1=CA=BC=C7=C7=EB=B7=C3=CE=CA=
=A3=BA<A =0Ahref=3D"http://merafour.blog.163.com/">merafour.blog.=
163.com</A>&nbsp;</SPAN></FONT></FONT></SPAN> =0A=0A<P class=3DMs=
oNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT:=
 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0);=
 TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; o=
rphans: auto; widows: auto; webkit-text-stroke-width: 0px"><FONT=20=
=0Asize=3D3><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5"><SPAN lang=3D=
EN-US><FONT =0Aface=3D"Times New Roman">&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A</FONT></SPAN></SPAN=
><SPAN lang=3DEN-US><FONT face=3D"Times New Roman">-------- =0A20=
15-4-15.</FONT></SPAN><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5">=C0=
=E4=D4=C2=D7=B7=B7=E7</SPAN><SPAN =0Alang=3DEN-US><FONT face=3D"T=
imes New Roman"></FONT></SPAN></FONT></P>=0A<P class=3DMsoNormal=20=
=0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16=
px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-IN=
DENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans:=20=
auto; widows: auto; webkit-text-stroke-width: 0px"><FONT =0Asize=3D=
3><SPAN lang=3DEN-US><FONT =0Aface=3D"Times New Roman"><SPAN>&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SP=
AN =0Aclass=3DApple-converted-space>&nbsp;</SPAN></SPAN>--------=20=
=0Aemail</FONT></SPAN><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5">=A3=
=BA</SPAN><SPAN lang=3DEN-US><FONT =0Aface=3D"Times New Roman"><A=
 =0Ahref=3D"mailto:merafour@163.com">merafour@163.com</A><SPAN =0A=
class=3DApple-converted-space>&nbsp;</SPAN></FONT></SPAN></FONT><=
BR></P>=0A<HR>=0A=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm=20=
0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TR=
ANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE:=20=
normal; LETTER-SPACING: normal; orphans: auto; widows: auto; webk=
it-text-stroke-width: 0px"><BR><BR>&nbsp;&nbsp;&nbsp; =0A<STRONG>=
<SPAN id=3Dwiz_font_size_span_1290531 =0Astyle=3D"FONT-SIZE: 16pt=
"><STRONG>=B9=CC</STRONG></SPAN></STRONG>=BC=FE=C9=FD=BC=B6=B7=C5=
=B5=BD=CD=F8=C9=CF=D2=D1=BE=AD=CA=AE=BC=B8=CC=EC=C1=CB=A3=AC=BD=F1=
=CC=EC=BE=CD=C0=B4=B8=E6=CB=DF=B4=F3=BC=D2=D4=F5=C3=B4=CA=B9=D3=C3=
 =0AUSBS=B8=F8 App=CC=E1=B9=A9=B5=C4=BC=D3=C3=DC=B8=F8=CE=AA App=BD=
=F8=D0=D0=D0=A3=D1=E9=A1=A3=B5=B1=C8=BB=CA=D7=CF=C8=C4=E3=B5=C3=CD=
=A8=B9=FD=C5=E4=D6=C3=C8=ED=BC=FE=B0=D1 Licence=D0=B4=BD=F8=C8=A5=
=A3=AC=BE=DF=CC=E5=CA=C7=D4=DA=C9=FA=B3=C9 bin=CE=C4=BC=FE=D6=AE=C7=
=B0=B0=D1 =0A"Licence"=D5=E2=D2=BB=CF=EE=B8=F8=B9=B4=C9=CF=A3=AC=C8=
=BB=BA=F3=D7=D4=B6=AF=BB=F1=C8=A1=BB=F2=CA=C7=D7=D4=BC=BA=D6=B8=B6=
=A8=D2=BB=B8=F6=A3=AC=B8=F6=C8=CB=BD=A8=D2=E9=CA=C7=D7=D4=B6=AF=BB=
=F1=C8=A1=B2=A2=CA=D6=B6=AF=D0=DE=B8=C4=A1=A3<BR>&nbsp;&nbsp;&nbs=
p; =0A<STRONG><SPAN id=3Dwiz_font_size_span_1847781 =0Astyle=3D"F=
ONT-SIZE: 16pt"><STRONG>=D3=D0</STRONG></SPAN></STRONG>=C1=CB Lic=
ence=D6=AE=BA=F3=C4=E3=BE=CD=BF=C9=D2=D4=D4=DA =0AApp=D6=D0=BC=D3=
=C8=EB=D5=E2=D1=F9=D2=BB=CC=F5=B4=FA=C2=EB=A3=BA<BR></P>=0A<DIV =0A=
style=3D"BORDER-RIGHT: black 1px solid; PADDING-RIGHT: 3px; BORDE=
R-TOP: black 1px solid; PADDING-LEFT: 3px; FONT-SIZE: 12px; MARGI=
N-LEFT: auto; BORDER-LEFT: black 1px solid; COLOR: black; MARGIN-=
RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTOM: black 1px solid; FO=
NT-FAMILY: Courier New; BACKGROUND-COLOR: window; TEXT-ALIGN: lef=
t; 3px: "><FONT =0Acolor=3D#0000ff><B>static</B></FONT> <FONT col=
or=3D#0000ff><B>const</B></FONT> =0Auint32_t License <FONT color=3D=
#333399>=3D</FONT> 0x990951ba;</DIV>=0A<P class=3DMsoNormal =0Ast=
yle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=
=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT:=20=
0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto;=20=
widows: auto; webkit-text-stroke-width: 0px"><BR>=CE=D2=B8=F6=C8=CB=
=CF=B0=B9=DF=CA=B9=D3=C3=B1=E4=C1=BF=A3=AC=C4=E3=BF=C9=D2=D4=B8=F9=
=BE=DD=D7=D4=BC=BA=B5=C4=CF=B4=BA=C3=D1=A1=D4=F1=CA=B9=D3=C3=BA=EA=
=A1=A3<BR>&nbsp;&nbsp;&nbsp; =0A<STRONG><SPAN id=3Dwiz_font_size_=
span_2606109 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>=C8=BB</STRONG>=
</SPAN></STRONG>=BA=F3=C4=E3=D0=E8=D2=AA=C1=CB=BD=E2=B5=C4=C1=ED=CD=
=E2=D2=BB=B8=F6=D0=C5=CF=A2=CA=C7=BC=D3=C3=DC=CA=FD=BE=DD=B4=E6=B4=
=A2=B5=C4=B5=D8=D6=B7=A3=BA0x0800000C=A1=A3=D3=D0=C1=BD=D6=D6=B7=BD=
=CA=BD=BF=C9=D2=D4=BB=F1=C8=A1=BC=D3=C3=DC=D0=C5=CF=A2=A3=BA<BR><=
/P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid; PADDING-RIG=
HT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3px; FONT-SIZ=
E: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px solid; COLOR:=20=
black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTOM: black=
 1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: window; T=
EXT-ALIGN: left; 3px: ">#<FONT =0Acolor=3D#0000ff><B>if</B></FONT=
> <FONT color=3D#6e00aa>1</FONT><BR>&nbsp;&nbsp;<FONT =0Acolor=3D=
#008000>// read flash</FONT><BR>&nbsp;&nbsp;match_Read(0x0800000C=
, =0A(uint16_t<FONT color=3D#333399>*</FONT>)buf, BUF_LEN<FONT =0A=
color=3D#333399>/</FONT><FONT color=3D#6e00aa>2</FONT>);<BR>&nbsp=
;&nbsp;_mtext <FONT =0Acolor=3D#333399>=3D</FONT> (uint32_t<FONT=20=
color=3D#333399>*</FONT>)buf;<BR>#<FONT =0Acolor=3D#0000ff><B>els=
e</B></FONT><BR>&nbsp;&nbsp;_mtext <FONT =0Acolor=3D#333399>=3D</=
FONT> (uint32_t<FONT =0Acolor=3D#333399>*</FONT>)0x0800000C;<BR>#=
<FONT =0Acolor=3D#0000ff><B>endif</B></FONT></DIV>=0A<P class=3DM=
soNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT=
: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0)=
; TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal;=20=
orphans: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=D7=
=EE=D0=C2=B5=C4=BC=D3=C3=DC=D3=C9=D3=DA=B2=C9=D3=C3=CA=FD=D7=E9=B4=
=E6=B7=C5=BC=D3=C3=DC=D0=C5=CF=A2=A3=AC=CB=F9=D2=D4=C6=A5=C5=E4=B1=
=C8=D4=AD=CA=BC=C9=E8=BC=C6=D2=AA=BC=F2=B5=A5=A3=AC=D2=BB=B8=F6=D1=
=AD=BB=B7=B8=E3=B6=A8=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIG=
HT: black 1px solid; PADDING-RIGHT: 3px; BORDER-TOP: black 1px so=
lid; PADDING-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDE=
R-LEFT: black 1px solid; COLOR: black; MARGIN-RIGHT: auto; PADDIN=
G-TOP: 3px; BORDER-BOTTOM: black 1px solid; FONT-FAMILY: Courier=20=
New; BACKGROUND-COLOR: window; TEXT-ALIGN: left; 3px: ">&nbsp;&nb=
sp;<FONT =0Acolor=3D#008000>// match</FONT><BR>&nbsp;&nbsp;<FONT=20=
=0Acolor=3D#0000ff><B>for</B></FONT>(t<FONT color=3D#333399>=3D</=
FONT><FONT =0Acolor=3D#6e00aa>0</FONT>; t<FONT color=3D#333399>&l=
t;</FONT><FONT =0Acolor=3D#6e00aa>8</FONT>; t<FONT =0Acolor=3D#33=
3399>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;<FONT =0Aco=
lor=3D#0000ff><B>if</B></FONT>(passwd[t] <FONT color=3D#333399>!=3D=
</FONT> =0A_mtext[t]) match<FONT color=3D#333399>=3D</FONT><FONT=20=
=0Acolor=3D#6e00aa>1</FONT>;<BR>&nbsp;&nbsp;}</DIV>=0A<P class=3D=
MsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FON=
T: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0=
); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal;=
 orphans: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=
=C8=E7=B9=FB=C4=E3=D2=AA=BB=F1=C8=A1 =0Abootloader=B0=E6=B1=BE=D0=
=C5=CF=A2=A3=AC=BA=DC=BC=F2=B5=A5=A3=BA<BR></P>=0A<DIV =0Astyle=3D=
"BORDER-RIGHT: black 1px solid; PADDING-RIGHT: 3px; BORDER-TOP: b=
lack 1px solid; PADDING-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT:=20=
auto; BORDER-LEFT: black 1px solid; COLOR: black; MARGIN-RIGHT: a=
uto; PADDING-TOP: 3px; BORDER-BOTTOM: black 1px solid; FONT-FAMIL=
Y: Courier New; BACKGROUND-COLOR: window; TEXT-ALIGN: left; 3px:=20=
">printf(<FONT =0Acolor=3D#ff00bf>"bootloader:%s"</FONT>, (<FONT=20=
=0Acolor=3D#0000ff><B>char</B></FONT><FONT color=3D#333399>*</FON=
T>)0x080000F0);</DIV>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN:=20=
0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEX=
T-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPA=
CE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto;=20=
webkit-text-stroke-width: 0px"><BR>=D6=AE=BA=F3=C4=E3=BF=C9=D2=D4=
=D4=DA=B4=AE=BF=DA=BF=B4=B5=BD=A3=BA =0A"bootloader:V 1.20.8"=B4=F2=
=D3=A1=A1=A3=BB=F2=D5=DF=C4=E3=BF=C9=D2=D4=B0=D1=CA=FD=BE=DD=B6=C1=
=B5=BD=D2=BB=B8=F6 =0Abuffer=C1=ED=D0=D0=B4=A6=C0=ED=A1=A3=C6=A5=C5=
=E4=CD=EA=C1=CB=BE=CD=CA=C7=D0=A3=D1=E9=C6=A5=C5=E4=BD=E1=B9=FB=A3=
=AC=D3=C9=D3=DA=CA=C7=B2=E2=CA=D4=B3=CC=D0=F2=CB=F9=D2=D4=D7=F6=B5=
=C4=B1=C8=BD=CF=BC=F2=B5=A5=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORD=
ER-RIGHT: black 1px solid; PADDING-RIGHT: 3px; BORDER-TOP: black=20=
1px solid; PADDING-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto;=
 BORDER-LEFT: black 1px solid; COLOR: black; MARGIN-RIGHT: auto;=20=
PADDING-TOP: 3px; BORDER-BOTTOM: black 1px solid; FONT-FAMILY: Co=
urier New; BACKGROUND-COLOR: window; TEXT-ALIGN: left; 3px: "><FO=
NT =0Acolor=3D#0000ff><B>if</B></FONT>(<FONT color=3D#6e00aa>0</F=
ONT> <FONT =0Acolor=3D#333399>!=3D</FONT> match)<BR>&nbsp;{<BR>&n=
bsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"match error!\r\n"</FON=
T>);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>goto</B></FONT> U=
N_PERMISSION; <FONT color=3D#008000>// =0A=B3=F6=B4=ED=B4=A6=C0=ED=
</FONT><BR>&nbsp;}<BR>&nbsp;printf(<FONT color=3D#ff00bf>"match =0A=
OK!\r\n"</FONT>);</DIV>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN=
: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; T=
EXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-S=
PACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto=
; webkit-text-stroke-width: 0px"><BR>&nbsp;&nbsp;&nbsp; =0A<STRON=
G><SPAN id=3Dwiz_font_size_span_3132593 =0Astyle=3D"FONT-SIZE: 16=
pt"><STRONG>=BC=D3</STRONG></SPAN></STRONG>=C3=DC=D0=A3=D1=E9=CD=EA=
=C1=CB=BB=B9=D2=AA=BD=F8=D0=D0 =0ACRC32=D0=A3=D1=E9=A3=AC=D2=F2=CE=
=AA=CE=D2=CB=B5=B9=FD=A3=AC USBS=D4=DA=C9=E8=BC=C6=C9=CF App=CA=C7=
=CA=B9=D3=C3=CB=AB=D0=A3=D1=E9=B5=C4=A1=A3CRC=C6=A5=C5=E4=C8=E7=CF=
=C2=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px soli=
d; PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT:=
 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px=20=
solid; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER=
-BOTTOM: black 1px solid; FONT-FAMILY: Courier New; BACKGROUND-CO=
LOR: window; TEXT-ALIGN: left; 3px: ">&nbsp;&nbsp;calculate_fw_cr=
c(crc32); =0A<FONT color=3D#008000>// crc32=D0=A3=D1=E9 bootloade=
r</FONT><BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>// CRC=D0=A3=D1=E9=
,=B5=C3=B5=BD 5=B8=F6CRC=D6=B5,=B5=AB=CA=B5=BC=CA=D6=BB=C4=DC=CA=B9=
=D3=C34=B8=F6, =0Acrc32[4]=B0=FC=BA=AC=C1=CB=BC=D3=C3=DC=D0=C5=CF=
=A2,=C3=BF=B8=F6=D0=BE=C6=AC=B6=BC=B2=BB=D2=BB=D1=F9</FONT><BR>&n=
bsp;&nbsp;<FONT =0Acolor=3D#008000>//printf("CRC32:[%08X | %08X |=
 %08X | %08X | %08X]\r\n", crc32[0], =0Acrc32[1], crc32[2], crc32=
[3], crc32[4]);</FONT><BR>&nbsp;&nbsp;crc_flag <FONT =0Acolor=3D#=
333399>=3D</FONT> <FONT color=3D#6e00aa>0</FONT>;<BR>&nbsp;&nbsp;=
<FONT =0Acolor=3D#0000ff><B>for</B></FONT>(t<FONT color=3D#333399=
>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>; t<FONT color=3D#333=
399>&lt;</FONT><FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(crc_=
support)<FONT color=3D#333399>/</FONT><FONT =0Acolor=3D#0000ff><B=
>sizeof</B></FONT>(crc_support[<FONT color=3D#6e00aa>0</FONT>]);=20=
=0At<FONT color=3D#333399>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&n=
bsp;&nbsp;support =0A<FONT color=3D#333399>=3D</FONT> <FONT =0Aco=
lor=3D#333399>&amp;</FONT>(crc_support[t][<FONT =0Acolor=3D#6e00a=
a>0</FONT>]);<BR>&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if=
</B></FONT>((crc32[<FONT color=3D#6e00aa>0</FONT>]<FONT =0Acolor=3D=
#333399>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>0</FONT>]<FON=
T =0Acolor=3D#333399>+</FONT><FONT color=3D#6e00aa>1</FONT>)) <FO=
NT =0Acolor=3D#333399>&amp;&amp;</FONT> (crc32[<FONT color=3D#6e0=
0aa>1</FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT>(support[<FONT=
 color=3D#6e00aa>1</FONT>]<FONT =0Acolor=3D#333399>+</FONT><FONT=20=
color=3D#6e00aa>1</FONT>)) <FONT =0Acolor=3D#333399>&amp;&amp;</F=
ONT> (crc32[<FONT color=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#3333=
99>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>2</FONT>]<FONT =0A=
color=3D#333399>+</FONT><FONT color=3D#6e00aa>1</FONT>)) <FONT =0A=
color=3D#333399>&amp;&amp;</FONT> (crc32[<FONT color=3D#6e00aa>3<=
/FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT>(support[<FONT color=
=3D#6e00aa>3</FONT>]<FONT =0Acolor=3D#333399>+</FONT><FONT =0Acol=
or=3D#6e00aa>1</FONT>)))<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&n=
bsp;&nbsp;crc_flag =0A<FONT color=3D#333399>=3D</FONT> <FONT =0Ac=
olor=3D#6e00aa>1</FONT>;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;}<=
BR>=0A<HR>=0A&nbsp;<FONT color=3D#0000ff><B>if</B></FONT>(<FONT c=
olor=3D#6e00aa>1</FONT><FONT =0Acolor=3D#333399>!=3D</FONT>crc_fl=
ag)<BR>&nbsp;{<BR>&nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"no=
t support board!\r\n"</FONT>);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0=
000ff><B>goto</B></FONT> UN_PERMISSION; <FONT color=3D#008000>//=20=
=0A=B3=F6=B4=ED=B4=A6=C0=ED</FONT><BR>&nbsp;}<BR>&nbsp;<FONT colo=
r=3D#008000>// =B2=E2=CA=D4,=D3=C3=D3=DA=BB=F1=C8=A1 =0ACRC32=D6=B5=
</FONT><BR>&nbsp;printf(<FONT color=3D#ff00bf>"CRC32:[%08X | %08X=
 | %08X | =0A%08X | %08X]\r\n"</FONT>, crc32[<FONT color=3D#6e00a=
a>0</FONT>], crc32[<FONT =0Acolor=3D#6e00aa>1</FONT>], crc32[<FON=
T color=3D#6e00aa>2</FONT>], crc32[<FONT =0Acolor=3D#6e00aa>3</FO=
NT>], crc32[<FONT =0Acolor=3D#6e00aa>4</FONT>]);<BR>&nbsp;printf(=
<FONT color=3D#ff00bf>"support =0Aboard!\r\n"</FONT>);</DIV>=0A<P=
 class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING:=
 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR:=20=
rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING=
: normal; orphans: auto; widows: auto; webkit-text-stroke-width:=20=
0px"><BR>=B8=F6=C8=CB=B2=BB=BD=A8=D2=E9=BD=AB=D7=EE=D4=AD=CA=BC=B5=
=C4 =0ACRC=D6=B5=D6=B1=BD=D3=CA=B9=D3=C3=D4=DA=B4=FA=C2=EB=B5=B1=D6=
=D0=A3=AC=D2=F2=CE=AA=D5=E2=D1=F9=C8=DD=D2=D7=B1=BB=D0=DE=B8=C4=A3=
=AC=CE=D2=D5=E2=C0=EF=D7=F6=B2=E2=CA=D4=D3=C3=B5=C4=B1=C8=BD=CF=BC=
=F2=B5=A5=A3=BA"crc32[i]-1"=A1=A3=B6=F8 CRC=D6=B5=CE=D2=CA=C7=CA=B9=
=D3=C3 =0Acrc_support=CA=FD=D7=E9=C0=B4=B4=E6=B7=C5=B5=C4=A3=AC=D3=
=C3=BB=A7=D4=DA=CA=B9=D3=C3=B5=C4=CA=B1=BA=F2=BF=C9=D2=D4=B8=F9=BE=
=DD=D7=D4=BC=BA=B5=C4=CF=B2=BA=C3=B4=A6=C0=ED=A1=A3=B8=F6=C8=CB=BD=
=A8=D2=E9=CA=C7=B6=E0=CE=AC=CA=FD=D7=E9=A3=AC=B1=CF=BE=B9=CE=D2=B2=
=BB=C4=DC=BC=D9=B6=A8=C4=E3=B2=BB=BB=E1=CA=B9=D3=C3=B8=FC=B8=DF=B0=
=E6=B1=BE=B5=C4 =0AUSBS=A1=A3=CB=F9=D2=D4=D5=E2=B3=A1=C7=E9=BF=F6=
=CF=C2=C4=E3=BD=B2=BF=B4=B5=BD=C8=E7=CF=C2=B4=F2=D3=A1=D0=C5=CF=A2=
=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid;=20=
PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3p=
x; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px sol=
id; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BO=
TTOM: black 1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR=
: window; TEXT-ALIGN: left; 3px: ">match =0AOK<FONT color=3D#3333=
99>!</FONT><BR>CRC32<FONT color=3D#333399>:</FONT>[<FONT =0Acolor=
=3D#6e00aa>8D0BD7CA</FONT> <FONT color=3D#333399>|</FONT> <FONT =0A=
color=3D#6e00aa>730B35B6</FONT> <FONT color=3D#333399>|</FONT> 0E=
EDB7AA <FONT =0Acolor=3D#333399>|</FONT> <FONT color=3D#6e00aa>52=
19DF58</FONT> <FONT =0Acolor=3D#333399>|</FONT> DE8CEF7E]<BR>supp=
ort board<FONT =0Acolor=3D#333399>!</FONT></DIV>=0A<P class=3DMso=
Normal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT:=20=
12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0);=20=
TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; or=
phans: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=CD=
=EA=D5=FB=B5=C4 =0Amain=BA=AF=CA=FD=C8=E7=CF=C2=A3=BA<BR></P>=0A<=
DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid; PADDING-RIGHT: 3px=
; BORDER-TOP: black 1px solid; PADDING-LEFT: 3px; FONT-SIZE: 12px=
; MARGIN-LEFT: auto; BORDER-LEFT: black 1px solid; COLOR: black;=20=
MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTOM: black 1px so=
lid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: window; TEXT-ALI=
GN: left; 3px: "><FONT =0Acolor=3D#0000ff><B>int</B></FONT> main(=
<FONT =0Acolor=3D#0000ff><B>void</B></FONT>)<BR>&nbsp;{<BR>&nbsp;=
<FONT =0Acolor=3D#008000>//mtext* _mtext=3DNULL;</FONT><BR>&nbsp;=
<FONT color=3D#008000>//mtext =0Apasswd;</FONT><BR>&nbsp;uint32_t=
<FONT color=3D#333399>*</FONT> _mtext<FONT =0Acolor=3D#333399>=3D=
</FONT>NULL;<BR>&nbsp;uint32_t passwd[<FONT =0Acolor=3D#6e00aa>8<=
/FONT>]<FONT color=3D#333399>=3D</FONT>{<FONT =0Acolor=3D#6e00aa>=
0</FONT>};<BR>&nbsp;uint32_t uid[<FONT =0Acolor=3D#6e00aa>3</FONT=
>]<FONT color=3D#333399>=3D</FONT>{<FONT =0Acolor=3D#6e00aa>0</FO=
NT>};<BR>&nbsp;<FONT color=3D#0000ff><B>char</B></FONT> =0Abuf[BU=
F_LEN]<FONT color=3D#333399>=3D</FONT>{<FONT =0Acolor=3D#6e00aa>0=
</FONT>};<BR>&nbsp;<FONT color=3D#0000ff><B>int</B></FONT> =0Amat=
ch<FONT color=3D#333399>=3D</FONT><FONT color=3D#6e00aa>0</FONT>;=
&nbsp;<BR>&nbsp;u8 =0At;<BR>&nbsp;<FONT color=3D#008000>//u8 len;=
</FONT>&nbsp;<BR>&nbsp;u16 times<FONT =0Acolor=3D#333399>=3D</FON=
T><FONT color=3D#6e00aa>0</FONT>;&nbsp;<BR>&nbsp;<FONT =0Acolor=3D=
#008000>//uint32_t addr=3D0;</FONT><BR>&nbsp;<FONT color=3D#00800=
0>//char =0Astr[64] =3D {0};</FONT><BR>&nbsp;<FONT color=3D#0000f=
f><B>int</B></FONT> Flag<FONT =0Acolor=3D#333399>=3D</FONT><FONT=20=
color=3D#6e00aa>0</FONT>; <FONT color=3D#008000>// =0A=CD=A8=B9=FD=
=B8=C3=B1=E4=C1=BF=BC=EC=B2=E2=CA=C7=B7=F1=C7=BF=D0=D0=CC=F8=B9=FD=
=C1=CB=BC=D3=C3=DC=D0=A3=D1=E9=B4=FA=C2=EB</FONT><BR>&nbsp;uint32=
_t crc32[<FONT =0Acolor=3D#6e00aa>5</FONT>] <FONT color=3D#333399=
>=3D</FONT> {<FONT =0Acolor=3D#6e00aa>0</FONT>};<BR>&nbsp;<FONT c=
olor=3D#0000ff><B>const</B></FONT> =0Auint32_t <FONT color=3D#333=
399>*</FONT>support <FONT color=3D#333399>=3D</FONT> =0ANULL;<BR>=
&nbsp;<FONT color=3D#0000ff><B>int</B></FONT> crc_flag <FONT =0Ac=
olor=3D#333399>=3D</FONT> <FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&=
nbsp;<BR>&nbsp;&nbsp;NVIC_SetVectorTable(NVIC_VectTab_FLASH, =0AV=
ectTabOffset);<BR>&nbsp;delay_init();&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;<FONT =0Acolor=3D#008000>//=D1=D3=CA=B1=BA=AF=CA=FD=
=B3=F5=CA=BC=BB=AF</FONT>&nbsp;<BR>&nbsp;NVIC_Configuration();<FO=
NT =0Acolor=3D#008000>// =C9=E8=D6=C3=D6=D0=B6=CF=D3=C5=CF=C8=BC=B6=
=B7=D6=D7=E9</FONT><BR>&nbsp;uart_init(<FONT =0Acolor=3D#6e00aa>1=
15200</FONT>);&nbsp;&nbsp;<FONT =0Acolor=3D#008000>//=B4=AE=BF=DA=
=B3=F5=CA=BC=BB=AF=CE=AA9600</FONT><BR>&nbsp;printf(<FONT color=3D=
#ff00bf>"\r\nApp =0Astart!\r\n"</FONT>);<BR>&nbsp;<FONT color=3D#=
008000>// =0A=B2=E2=CA=D4=BC=D3=C3=DC</FONT><BR>&nbsp;{<BR>&nbsp;=
&nbsp;<FONT color=3D#008000>// read =0AUID</FONT><BR>&nbsp;&nbsp;=
uid[<FONT color=3D#6e00aa>0</FONT>]<FONT =0Acolor=3D#333399>=3D</=
FONT><FONT color=3D#333399>*</FONT>(vu32<FONT =0Acolor=3D#333399>=
*</FONT>)(0x1ffff7e8);<BR>&nbsp;&nbsp;uid[<FONT =0Acolor=3D#6e00a=
a>1</FONT>]<FONT color=3D#333399>=3D</FONT><FONT =0Acolor=3D#3333=
99>*</FONT>(vu32<FONT =0Acolor=3D#333399>*</FONT>)(0x1ffff7ec);<B=
R>&nbsp;&nbsp;uid[<FONT =0Acolor=3D#6e00aa>2</FONT>]<FONT color=3D=
#333399>=3D</FONT><FONT =0Acolor=3D#333399>*</FONT>(vu32<FONT =0A=
color=3D#333399>*</FONT>)(0x1ffff7f0);<BR>&nbsp;&nbsp;<FONT color=
=3D#008000>// =0Apasswd</FONT><BR>&nbsp;&nbsp;UserLicense(passwd,=
 uid);<BR>&nbsp;&nbsp;Flag <FONT =0Acolor=3D#333399>=3D</FONT> <F=
ONT color=3D#6e00aa>1</FONT>;<BR>#<FONT =0Acolor=3D#0000ff><B>if<=
/B></FONT> <FONT color=3D#6e00aa>1</FONT><BR>&nbsp;&nbsp;<FONT =0A=
color=3D#008000>// read flash</FONT><BR>&nbsp;&nbsp;match_Read(0x=
0800000C, =0A(uint16_t<FONT color=3D#333399>*</FONT>)buf, BUF_LEN=
<FONT =0Acolor=3D#333399>/</FONT><FONT color=3D#6e00aa>2</FONT>);=
<BR>&nbsp;&nbsp;_mtext <FONT =0Acolor=3D#333399>=3D</FONT> (uint3=
2_t<FONT color=3D#333399>*</FONT>)buf;<BR>#<FONT =0Acolor=3D#0000=
ff><B>else</B></FONT><BR>&nbsp;&nbsp;_mtext <FONT =0Acolor=3D#333=
399>=3D</FONT> (uint32_t<FONT =0Acolor=3D#333399>*</FONT>)0x08000=
00C;<BR>#<FONT =0Acolor=3D#0000ff><B>endif</B></FONT><BR>&nbsp;&n=
bsp;<FONT color=3D#008000>// =0Amatch</FONT><BR>&nbsp;&nbsp;<FONT=
 color=3D#0000ff><B>for</B></FONT>(t<FONT =0Acolor=3D#333399>=3D<=
/FONT><FONT color=3D#6e00aa>0</FONT>; t<FONT =0Acolor=3D#333399>&=
lt;</FONT><FONT color=3D#6e00aa>8</FONT>; t<FONT =0Acolor=3D#3333=
99>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;<FONT =0Acolo=
r=3D#0000ff><B>if</B></FONT>(passwd[t] <FONT color=3D#333399>!=3D=
</FONT> =0A_mtext[t]) match<FONT color=3D#333399>=3D</FONT><FONT=20=
=0Acolor=3D#6e00aa>1</FONT>;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;prin=
tf(<FONT =0Acolor=3D#ff00bf>"bootloader:%s"</FONT>, (<FONT =0Acol=
or=3D#0000ff><B>char</B></FONT><FONT =0Acolor=3D#333399>*</FONT>)=
0x080000F0);<BR>&nbsp;&nbsp;calculate_fw_crc(crc32); =0A<FONT col=
or=3D#008000>// crc32=D0=A3=D1=E9 bootloader</FONT><BR>&nbsp;&nbs=
p;<FONT =0Acolor=3D#008000>// CRC=D0=A3=D1=E9,=B5=C3=B5=BD 5=B8=F6=
CRC=D6=B5,=B5=AB=CA=B5=BC=CA=D6=BB=C4=DC=CA=B9=D3=C34=B8=F6, =0Ac=
rc32[4]=B0=FC=BA=AC=C1=CB=BC=D3=C3=DC=D0=C5=CF=A2,=C3=BF=B8=F6=D0=
=BE=C6=AC=B6=BC=B2=BB=D2=BB=D1=F9</FONT><BR>&nbsp;&nbsp;<FONT =0A=
color=3D#008000>//printf("CRC32:[%08X | %08X | %08X | %08X | %08X=
]\r\n", crc32[0], =0Acrc32[1], crc32[2], crc32[3], crc32[4]);</FO=
NT><BR>&nbsp;&nbsp;crc_flag <FONT =0Acolor=3D#333399>=3D</FONT> <=
FONT color=3D#6e00aa>0</FONT>;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0=
000ff><B>for</B></FONT>(t<FONT color=3D#333399>=3D</FONT><FONT =0A=
color=3D#6e00aa>0</FONT>; t<FONT color=3D#333399>&lt;</FONT><FONT=
 =0Acolor=3D#0000ff><B>sizeof</B></FONT>(crc_support)<FONT color=3D=
#333399>/</FONT><FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(crc=
_support[<FONT color=3D#6e00aa>0</FONT>]); =0At<FONT color=3D#333=
399>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;support =0A<=
FONT color=3D#333399>=3D</FONT> <FONT =0Acolor=3D#333399>&amp;</F=
ONT>(crc_support[t][<FONT =0Acolor=3D#6e00aa>0</FONT>]);<BR>&nbsp=
;&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>((crc32[<FO=
NT color=3D#6e00aa>0</FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT=
>(support[<FONT color=3D#6e00aa>0</FONT>]<FONT =0Acolor=3D#333399=
>+</FONT><FONT color=3D#6e00aa>1</FONT>)) <FONT =0Acolor=3D#33339=
9>&amp;&amp;</FONT> (crc32[<FONT color=3D#6e00aa>1</FONT>]<FONT =0A=
color=3D#333399>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>1</FO=
NT>]<FONT =0Acolor=3D#333399>+</FONT><FONT color=3D#6e00aa>1</FON=
T>)) <FONT =0Acolor=3D#333399>&amp;&amp;</FONT> (crc32[<FONT colo=
r=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT>(suppo=
rt[<FONT color=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#333399>+</FON=
T><FONT color=3D#6e00aa>1</FONT>)) <FONT =0Acolor=3D#333399>&amp;=
&amp;</FONT> (crc32[<FONT color=3D#6e00aa>3</FONT>]<FONT =0Acolor=
=3D#333399>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>3</FONT>]<=
FONT =0Acolor=3D#333399>+</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>=
)))<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;crc_flag =0A=
<FONT color=3D#333399>=3D</FONT> <FONT =0Acolor=3D#6e00aa>1</FONT=
>;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;}<BR>&nbsp;}<BR>&nbsp;<F=
ONT =0Acolor=3D#0000ff><B>if</B></FONT>(<FONT color=3D#6e00aa>0</=
FONT> <FONT =0Acolor=3D#333399>!=3D</FONT> match)<BR>&nbsp;{<BR>&=
nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"match error!\r\n"</FO=
NT>);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>goto</B></FONT>=20=
UN_PERMISSION; <FONT color=3D#008000>// =0A=B3=F6=B4=ED=B4=A6=C0=ED=
</FONT><BR>&nbsp;}<BR>&nbsp;printf(<FONT color=3D#ff00bf>"match =0A=
OK!\r\n"</FONT>);<BR>&nbsp;<FONT color=3D#0000ff><B>if</B></FONT>=
(<FONT =0Acolor=3D#6e00aa>1</FONT><FONT =0Acolor=3D#333399>!=3D</=
FONT>crc_flag)<BR>&nbsp;{<BR>&nbsp;&nbsp;printf(<FONT =0Acolor=3D=
#ff00bf>"not support board!\r\n"</FONT>);<BR>&nbsp;&nbsp;<FONT =0A=
color=3D#0000ff><B>goto</B></FONT> UN_PERMISSION; <FONT color=3D#=
008000>// =0A=B3=F6=B4=ED=B4=A6=C0=ED</FONT><BR>&nbsp;}<BR>&nbsp;=
<FONT color=3D#008000>// =B2=E2=CA=D4,=D3=C3=D3=DA=BB=F1=C8=A1 =0A=
CRC32=D6=B5</FONT><BR>&nbsp;printf(<FONT color=3D#ff00bf>"CRC32:[=
%08X | %08X | %08X | =0A%08X | %08X]\r\n"</FONT>, crc32[<FONT col=
or=3D#6e00aa>0</FONT>], crc32[<FONT =0Acolor=3D#6e00aa>1</FONT>],=
 crc32[<FONT color=3D#6e00aa>2</FONT>], crc32[<FONT =0Acolor=3D#6=
e00aa>3</FONT>], crc32[<FONT =0Acolor=3D#6e00aa>4</FONT>]);<BR>&n=
bsp;printf(<FONT color=3D#ff00bf>"support =0Aboard!\r\n"</FONT>);=
<BR>&nbsp;<FONT color=3D#0000ff><B>if</B></FONT>(<FONT =0Acolor=3D=
#6e00aa>0</FONT><FONT color=3D#333399>=3D=3D</FONT>Flag) <FONT co=
lor=3D#008000>// =0A=B1=BB=CC=F8=B9=FD=BC=D3=C3=DC=D0=A3=D1=E9</F=
ONT><BR>&nbsp;{<BR>&nbsp;&nbsp;printf(<FONT color=3D#ff00bf>"matc=
h2 =0Aerror!\r\n"</FONT>);<BR>&nbsp;&nbsp;<FONT color=3D#0000ff><=
B>goto</B></FONT> =0AUN_PERMISSION; <FONT color=3D#008000>// =B3=F6=
=B4=ED=B4=A6=C0=ED</FONT><BR>&nbsp;}<BR>loop<FONT =0Acolor=3D#333=
399>:</FONT><BR>&nbsp;<FONT color=3D#0000ff><B>while</B></FONT>(<=
FONT =0Acolor=3D#6e00aa>1</FONT>)<BR>&nbsp;{<BR>&nbsp;&nbsp;times=
<FONT =0Acolor=3D#333399>++</FONT>;&nbsp;&nbsp;<BR>&nbsp;&nbsp;<F=
ONT =0Acolor=3D#0000ff><B>if</B></FONT>(times<FONT color=3D#33339=
9>&gt;</FONT><FONT =0Acolor=3D#6e00aa>50</FONT>)<BR>&nbsp;&nbsp;{=
<BR>&nbsp;&nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"\r\n USBS=20=
Test App\r\n"</FONT>);<BR>&nbsp;&nbsp;&nbsp;times <FONT =0Acolor=3D=
#333399>=3D</FONT> <FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&nbsp;&n=
bsp;}<BR>&nbsp;&nbsp;delay_ms(<FONT =0Acolor=3D#6e00aa>10</FONT>)=
;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>//pri=
ntf("\r\n test %d\r\n", times);</FONT><BR>&nbsp;}<BR><FONT =0Acol=
or=3D#008000>// unPermission,=C3=BB=D3=D0=C8=A8=CF=DE</FONT><BR>U=
N_PERMISSION<FONT =0Acolor=3D#333399>:</FONT><BR>&nbsp;printf(<FO=
NT color=3D#ff00bf>"You device not =0Arun!\r\n"</FONT>);<BR>&nbsp=
;printf(<FONT =0Acolor=3D#ff00bf>"ERROR:\r\n"</FONT>);<BR>&nbsp;p=
rintf(<FONT color=3D#ff00bf>"\t[%08X =0A| %08X | %08X | %08X | %0=
8X]\r\n"</FONT>, uid[<FONT color=3D#6e00aa>0</FONT>], =0Auid[<FON=
T color=3D#6e00aa>1</FONT>], uid[<FONT color=3D#6e00aa>2</FONT>],=
 <FONT =0Acolor=3D#6e00aa>0</FONT>, <FONT color=3D#6e00aa>0</FONT=
>);<BR>&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"\t[%08X | %08X | %0=
8X | %08X | %08X]\r\n"</FONT>, _mtext[<FONT =0Acolor=3D#6e00aa>0<=
/FONT>]<FONT color=3D#333399>-</FONT><FONT color=3D#6e00aa>1</FON=
T>, =0A_mtext[<FONT color=3D#6e00aa>1</FONT>]<FONT color=3D#33339=
9>-</FONT><FONT =0Acolor=3D#6e00aa>2</FONT>, _mtext[<FONT color=3D=
#6e00aa>2</FONT>]<FONT =0Acolor=3D#333399>-</FONT><FONT color=3D#=
6e00aa>3</FONT>, <FONT =0Acolor=3D#6e00aa>0</FONT>, <FONT color=3D=
#6e00aa>0</FONT>);<BR>&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"\t[%=
08X | %08X | %08X | %08X | %08X]\r\n"</FONT>, crc32[<FONT =0Acolo=
r=3D#6e00aa>0</FONT>]<FONT color=3D#333399>-</FONT><FONT color=3D=
#6e00aa>1</FONT>, =0Acrc32[<FONT color=3D#6e00aa>1</FONT>]<FONT c=
olor=3D#333399>-</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>, crc32[<=
FONT color=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#333399>-</FONT><F=
ONT color=3D#6e00aa>1</FONT>, crc32[<FONT =0Acolor=3D#6e00aa>3</F=
ONT>]<FONT color=3D#333399>-</FONT><FONT color=3D#6e00aa>1</FONT>=
, =0Acrc32[<FONT color=3D#6e00aa>4</FONT>]<FONT color=3D#333399>-=
</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>);<BR>&nbsp;<FONT color=3D=
#008000>//support =3D =0A&amp;(crc_support[2][0]);</FONT><BR>&nbs=
p;<FONT color=3D#008000>//printf("\t[%08X =0A| %08X | %08X | %08X=
 ]\r\n", support[0], support[1], support[2], =0Asupport[3]);</FON=
T><BR>&nbsp;<FONT =0Acolor=3D#008000>//while(1);</FONT><BR>&nbsp;=
<FONT color=3D#0000ff><B>goto</B></FONT> =0Aloop;<BR>}</DIV>=0A<P=
 class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING:=
 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR:=20=
rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING=
: normal; orphans: auto; widows: auto; webkit-text-stroke-width:=20=
0px"><BR>=B5=B1=C8=BB=B1=F0=CD=FC=C1=CB=D6=D0=B6=CF=CF=F2=C1=BF=B1=
=ED=B5=C4=B5=D8=D6=B7=CA=C7 =0A0x5000=BC=B4=A3=BA"#define VectTab=
Offset&nbsp; 0x5000"(20K)=A1=A3<BR>&nbsp;&nbsp;&nbsp; =0A<STRONG>=
<SPAN id=3Dwiz_font_size_span_3975515 =0Astyle=3D"FONT-SIZE: 16pt=
"><STRONG>=D2=D4</STRONG></SPAN></STRONG>=C9=CF=BE=CD=CA=C7=D4=F5=
=C3=B4=CA=B9=D3=C3 =0AUSBS=D6=D0=B5=C4=BC=D3=C3=DC=A3=AC=C6=E4=CB=
=FC=BC=B8=B8=F6=D6=D8=D2=AA=BA=AF=CA=FD=C8=E7=CF=C2=A3=BA<BR></P>=
=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid; PADDING-RIGHT:=
 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3px; FONT-SIZE:=20=
12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px solid; COLOR: bla=
ck; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTOM: black 1p=
x solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: window; TEXT=
-ALIGN: left; 3px: ">__inline =0A<FONT color=3D#0000ff><B>static<=
/B></FONT>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>void</B></FONT>=
 calculate_fw_crc(uint32_t sum[])<BR>{<BR>#<FONT =0Acolor=3D#0000=
ff><B>define</B></FONT> APP_SIZE_MAX_1 0x2800 <FONT color=3D#0080=
00>// =0A10K</FONT><BR>#<FONT color=3D#0000ff><B>define</B></FONT=
> APP_SIZE_MAX_2 0x3C00 =0A<FONT color=3D#008000>// 15K</FONT><BR=
>#<FONT color=3D#0000ff><B>define</B></FONT> =0AAPP_SIZE_MAX_3 0x=
4800 <FONT color=3D#008000>// 18K</FONT><BR>#<FONT =0Acolor=3D#00=
00ff><B>define</B></FONT> APP_SIZE_MAX_4 0x4C00 <FONT color=3D#00=
8000>// =0A19K</FONT><BR>#<FONT color=3D#0000ff><B>define</B></FO=
NT> APP_SIZE_MAX_5 0x5000 =0A<FONT color=3D#008000>// 20K</FONT><=
BR><FONT color=3D#008000>//#define =0ABLOCK_SIZE_MAX 0x1000 // 4K=
</FONT><BR>#<FONT color=3D#0000ff><B>define</B></FONT> =0AAPP_LOA=
D_ADDRESS 0x08000000<BR>&nbsp;<FONT color=3D#008000>// compute CR=
C of the =0Acurrent firmware</FONT><BR>&nbsp;<FONT color=3D#00800=
0>//uint32_t sum =3D =0A0;</FONT><BR>&nbsp;<FONT color=3D#0000ff>=
<B>unsigned</B></FONT> p <FONT =0Acolor=3D#333399>=3D</FONT> <FON=
T color=3D#6e00aa>0</FONT>;<BR>&nbsp;<FONT =0Acolor=3D#008000>//i=
nt block=3D0;</FONT><BR>&nbsp;<FONT color=3D#008000>// =D7=EE=BA=F3=
 =0A1K=D3=D0=BC=D3=C3=DC=D0=C5=CF=A2=BB=E1=B5=BC=D6=C2=D0=A3=D1=E9=
=D6=B5=B2=BB=CD=AC</FONT><BR>&nbsp;<FONT color=3D#008000>// 10 +=20=
5 + 3 + 1 + =0A1</FONT><BR>&nbsp;<FONT color=3D#0000ff><B>for</B>=
</FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#6e0=
0aa>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt;</FONT> APP_SIZE_=
MAX_1; p <FONT color=3D#333399>+=3D</FONT> <FONT =0Acolor=3D#6e00=
aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Acolor=3D#33=
3399>=3D</FONT> <FONT color=3D#333399>*</FONT>(uint32_t <FONT =0A=
color=3D#333399>*</FONT>)(p <FONT color=3D#333399>+</FONT> =0AAPP=
_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</FONT>sum=20=
<FONT =0Acolor=3D#333399>=3D</FONT> crc32part((uint8_t <FONT colo=
r=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</FONT>bytes,=20=
<FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(bytes), <FONT =0Aco=
lor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;sum<FONT =0Acolor=
=3D#333399>++</FONT>;<BR>&nbsp;<FONT color=3D#0000ff><B>for</B></=
FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#6e00a=
a>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt;</FONT> APP_SIZE_MA=
X_2; p <FONT color=3D#333399>+=3D</FONT> <FONT =0Acolor=3D#6e00aa=
>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Acolor=3D#3333=
99>=3D</FONT> <FONT color=3D#333399>*</FONT>(uint32_t <FONT =0Aco=
lor=3D#333399>*</FONT>)(p <FONT color=3D#333399>+</FONT> =0AAPP_L=
OAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</FONT>sum <F=
ONT =0Acolor=3D#333399>=3D</FONT> crc32part((uint8_t <FONT color=3D=
#333399>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</FONT>bytes, <FON=
T =0Acolor=3D#0000ff><B>sizeof</B></FONT>(bytes), <FONT =0Acolor=3D=
#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;sum<FONT =0Acolor=3D#33=
3399>++</FONT>;<BR>&nbsp;<FONT color=3D#0000ff><B>for</B></FONT>=20=
(p <FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>1024=
</FONT>; p <FONT =0Acolor=3D#333399>&lt;</FONT> APP_SIZE_MAX_3; p=
 <FONT color=3D#333399>+=3D</FONT> <FONT =0Acolor=3D#6e00aa>4</FO=
NT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Acolor=3D#333399>=3D=
</FONT> <FONT color=3D#333399>*</FONT>(uint32_t <FONT =0Acolor=3D=
#333399>*</FONT>)(p <FONT color=3D#333399>+</FONT> =0AAPP_LOAD_AD=
DRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</FONT>sum <FONT =0A=
color=3D#333399>=3D</FONT> crc32part((uint8_t <FONT color=3D#3333=
99>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</FONT>bytes, <FONT =0A=
color=3D#0000ff><B>sizeof</B></FONT>(bytes), <FONT =0Acolor=3D#33=
3399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;sum<FONT =0Acolor=3D#33339=
9>++</FONT>;<BR>&nbsp;<FONT color=3D#0000ff><B>for</B></FONT> (p=20=
<FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>1024</F=
ONT>; p <FONT =0Acolor=3D#333399>&lt;</FONT> APP_SIZE_MAX_4; p <F=
ONT color=3D#333399>+=3D</FONT> <FONT =0Acolor=3D#6e00aa>4</FONT>=
) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Acolor=3D#333399>=3D</F=
ONT> <FONT color=3D#333399>*</FONT>(uint32_t <FONT =0Acolor=3D#33=
3399>*</FONT>)(p <FONT color=3D#333399>+</FONT> =0AAPP_LOAD_ADDRE=
SS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</FONT>sum <FONT =0Aco=
lor=3D#333399>=3D</FONT> crc32part((uint8_t <FONT color=3D#333399=
>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</FONT>bytes, <FONT =0Aco=
lor=3D#0000ff><B>sizeof</B></FONT>(bytes), <FONT =0Acolor=3D#3333=
99>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;sum<FONT =0Acolor=3D#333399>=
++</FONT>;<BR>&nbsp;<FONT color=3D#0000ff><B>for</B></FONT> (p <F=
ONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>1024</FON=
T>; p <FONT =0Acolor=3D#333399>&lt;</FONT> APP_SIZE_MAX_5; p <FON=
T color=3D#333399>+=3D</FONT> <FONT =0Acolor=3D#6e00aa>4</FONT>)=20=
{<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Acolor=3D#333399>=3D</FON=
T> <FONT color=3D#333399>*</FONT>(uint32_t <FONT =0Acolor=3D#3333=
99>*</FONT>)(p <FONT color=3D#333399>+</FONT> =0AAPP_LOAD_ADDRESS=
);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</FONT>sum <FONT =0Acolo=
r=3D#333399>=3D</FONT> crc32part((uint8_t <FONT color=3D#333399>*=
</FONT>)<FONT =0Acolor=3D#333399>&amp;</FONT>bytes, <FONT =0Acolo=
r=3D#0000ff><B>sizeof</B></FONT>(bytes), <FONT =0Acolor=3D#333399=
>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;<FONT color=3D#008000>//return=
 =0Asum;</FONT><BR>}<BR><FONT color=3D#008000>// =D0=C5=CF=A2=BC=D3=
=C3=DC,=BD=F6=B9=A9 =0AApp=CA=B9=D3=C3,=D7=D4=C9=ED=B2=BB=B6=D4=C6=
=E4=BD=F8=D0=D0=D0=A3=D1=E9</FONT><BR><FONT color=3D#0000ff><B>st=
atic</B></FONT> <FONT =0Acolor=3D#0000ff><B>void</B></FONT> UserL=
icense(uint32_t flash[], uint32_t =0Auid[<FONT color=3D#6e00aa>3<=
/FONT>])<BR>{<BR>&nbsp;<FONT color=3D#008000>// =CA=B9=D3=C3=D3=C3=
=BB=A7 =0ALicense=BD=F8=D0=D0=C7=A9=C3=FB</FONT><BR>&nbsp;<FONT c=
olor=3D#008000>//uint32_t *sign =3D (uint32_t =0A*)(flash);</FONT=
><BR>&nbsp;uint32_t <FONT color=3D#333399>*</FONT>sign <FONT =0Ac=
olor=3D#333399>=3D</FONT> (flash);<BR>&nbsp;&nbsp;&nbsp;&nbsp;sig=
n[<FONT =0Acolor=3D#6e00aa>0</FONT>] <FONT color=3D#333399>=3D</F=
ONT> ((<FONT =0Acolor=3D#333399>~</FONT>uid[<FONT color=3D#6e00aa=
>0</FONT>])<FONT =0Acolor=3D#333399>&amp;</FONT>uid[<FONT =0Acolo=
r=3D#6e00aa>2</FONT>]);<BR>&nbsp;&nbsp;&nbsp;&nbsp;sign[<FONT =0A=
color=3D#6e00aa>1</FONT>] <FONT color=3D#333399>=3D</FONT> (uid[<=
FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>&amp;</FON=
T>(<FONT =0Acolor=3D#333399>~</FONT>uid[<FONT =0Acolor=3D#6e00aa>=
2</FONT>]));<BR>&nbsp;&nbsp;&nbsp;&nbsp;sign[<FONT =0Acolor=3D#6e=
00aa>2</FONT>] <FONT color=3D#333399>=3D</FONT> uid[<FONT =0Acolo=
r=3D#6e00aa>0</FONT>]<FONT color=3D#333399>^</FONT>uid[<FONT =0Ac=
olor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>^</FONT>License;<BR=
>&nbsp;sign[<FONT =0Acolor=3D#6e00aa>3</FONT>] <FONT color=3D#333=
399>=3D</FONT> uid[<FONT =0Acolor=3D#6e00aa>0</FONT>]<FONT color=3D=
#333399>^</FONT>(sign[<FONT =0Acolor=3D#6e00aa>2</FONT>]<FONT col=
or=3D#333399>|</FONT>(<FONT =0Acolor=3D#333399>~</FONT>License));=
<BR>&nbsp;sign[<FONT color=3D#6e00aa>4</FONT>] =0A<FONT color=3D#=
333399>=3D</FONT> uid[<FONT color=3D#6e00aa>0</FONT>]<FONT =0Acol=
or=3D#333399>+</FONT>uid[<FONT color=3D#6e00aa>1</FONT>]<FONT =0A=
color=3D#333399>+</FONT>uid[<FONT color=3D#6e00aa>2</FONT>];<BR>&=
nbsp;sign[<FONT =0Acolor=3D#6e00aa>5</FONT>] <FONT color=3D#33339=
9>=3D</FONT> (sign[<FONT =0Acolor=3D#6e00aa>0</FONT>]<FONT color=3D=
#333399>+</FONT>sign[<FONT =0Acolor=3D#6e00aa>3</FONT>])<FONT col=
or=3D#333399>|</FONT>(uid[<FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT=
 color=3D#333399>&amp;</FONT>(<FONT =0Acolor=3D#333399>~</FONT>ui=
d[<FONT color=3D#6e00aa>2</FONT>]));<BR>&nbsp;sign[<FONT =0Acolor=
=3D#6e00aa>6</FONT>] <FONT color=3D#333399>=3D</FONT> (sign[<FONT=
 =0Acolor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>+</FONT>sign[<=
FONT =0Acolor=3D#6e00aa>4</FONT>])<FONT color=3D#333399>|</FONT>(=
uid[<FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>&amp;=
</FONT>(<FONT =0Acolor=3D#333399>~</FONT>uid[<FONT color=3D#6e00a=
a>2</FONT>]));<BR>&nbsp;sign[<FONT =0Acolor=3D#6e00aa>7</FONT>] <=
FONT color=3D#333399>=3D</FONT> (sign[<FONT =0Acolor=3D#6e00aa>2<=
/FONT>]<FONT color=3D#333399>+</FONT>sign[<FONT =0Acolor=3D#6e00a=
a>5</FONT>])<FONT color=3D#333399>|</FONT>(uid[<FONT =0Acolor=3D#=
6e00aa>1</FONT>]<FONT color=3D#333399>&amp;</FONT>(<FONT =0Acolor=
=3D#333399>~</FONT>uid[<FONT color=3D#6e00aa>2</FONT>]));<BR>}</D=
IV>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-=
SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none;=
 COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER=
-SPACING: normal; orphans: auto; widows: auto; webkit-text-stroke=
-width: 0px"><BR>=CB=F9=D2=D4=C6=E4=CA=B5=D2=B2=B2=BB=B8=B4=D4=D3=
=A1=A3<BR><BR><STRONG><FONT =0Asize=3D6>=B8=BD=C2=BC=A3=BA</FONT>=
</STRONG><BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px soli=
d; PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT:=
 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px=20=
solid; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER=
-BOTTOM: black 1px solid; FONT-FAMILY: Courier New; BACKGROUND-CO=
LOR: window; TEXT-ALIGN: left; 3px: "><FONT =0Acolor=3D#008000>/*=
******************* (C) COPYRIGHT 2015 merafour =0A**************=
******<BR>* =0AAuthor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: =0A=C0=E4=D4=C2=D7=B7=B7=E7@m=
erafour.blog.163.com<BR>* =0AVersion&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: =0AV1.0.0<BR>* =0ADa=
te&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;: =0A2/26/2015<BR>* Description&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: =0A=BC=D3=C3=DC=B2=E2=CA=
=D4=B3=CC=D0=F2.<BR>*********************************************=
***********************************<BR>* =0Amerafour.blog.163.com=
<BR>*************************************************************=
******************/</FONT><BR>#<FONT =0Acolor=3D#0000ff><B>includ=
e</B></FONT> <FONT =0Acolor=3D#ff00bf>"delay.h"</FONT><BR>#<FONT=20=
color=3D#0000ff><B>include</B></FONT> =0A<FONT color=3D#ff00bf>"s=
tm32f10x.h"</FONT><BR>#<FONT =0Acolor=3D#0000ff><B>include</B></F=
ONT> <FONT =0Acolor=3D#ff00bf>"usart.h"</FONT><BR>#<FONT color=3D=
#0000ff><B>define</B></FONT> =0ABUF_LEN&nbsp;&nbsp;&nbsp;<FONT co=
lor=3D#6e00aa>32</FONT><BR><FONT color=3D#008000>// =0A40K</FONT>=
<BR><FONT color=3D#008000>//#define =0AVectTabOffset&nbsp;&nbsp;0=
xA000</FONT><BR><FONT color=3D#008000>// =0A20K</FONT><BR>#<FONT=20=
color=3D#0000ff><B>define</B></FONT> =0AVectTabOffset&nbsp;&nbsp;=
0x5000<BR><FONT color=3D#0000ff><B>static</B></FONT> =0A<FONT col=
or=3D#0000ff><B>const</B></FONT> uint32_t crc32_tab[] <FONT =0Aco=
lor=3D#333399>=3D</FONT><BR>{<BR>&nbsp;&nbsp;0x00000000, 0x770730=
96, 0xee0e612c, =0A0x990951ba, 0x076dc419, 0x706af48f, 0xe963a535=
, =0A0x9e6495a3,<BR>&nbsp;&nbsp;0x0edb8832, 0x79dcb8a4, 0xe0d5e91=
e, 0x97d2d988, =0A0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91,=
<BR>&nbsp;&nbsp;0x1db71064, =0A0x6ab020f2, 0xf3b97148, 0x84be41de=
, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, =0A0x83d385c7,<BR>&nbsp;&nb=
sp;0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, =0A0x14015c4f,=
 0x63066cd9, 0xfa0f3d63, 0x8d080df5,<BR>&nbsp;&nbsp;0x3b6e20c8, =0A=
0x4c69105e, 0xd56041e4, 0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20=
d85fd, =0A0xa50ab56b,<BR>&nbsp;&nbsp;0x35b5a8fa, 0x42b2986c, 0xdb=
bbc9d6, 0xacbcf940, =0A0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd1=
3d59,<BR>&nbsp;&nbsp;0x26d930ac, =0A0x51de003a, 0xc8d75180, 0xbfd=
06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599, =0A0xb8bda50f,<BR>&nbs=
p;&nbsp;0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924, =0A0x2f6f=
7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d,<BR>&nbsp;&nbsp;0x76dc41=
90, =0A0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f=
, 0x9fbfe4a5, =0A0xe8b8d433,<BR>&nbsp;&nbsp;0x7807c9a2, 0x0f00f93=
4, 0x9609a88e, 0xe10e9818, =0A0x7f6a0dbb, 0x086d3d2d, 0x91646c97,=
 0xe6635c01,<BR>&nbsp;&nbsp;0x6b6b51f4, =0A0x1c6c6162, 0x856530d8=
, 0xf262004e, 0x6c0695ed, 0x1b01a57b, 0x8208f4c1, =0A0xf50fc457,<=
BR>&nbsp;&nbsp;0x65b0d9c6, 0x12b7e950, 0x8bbeb8ea, 0xfcb9887c, =0A=
0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,<BR>&nbsp;&nbsp;0x=
4db26158, =0A0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3d=
d895d7, 0xa4d1c46d, =0A0xd3d6f4fb,<BR>&nbsp;&nbsp;0x4369e96a, 0x3=
46ed9fc, 0xad678846, 0xda60b8d0, =0A0x44042d73, 0x33031de5, 0xaa0=
a4c5f, 0xdd0d7cc9,<BR>&nbsp;&nbsp;0x5005713c, =0A0x270241aa, 0xbe=
0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, =0A0xce61=
e49f,<BR>&nbsp;&nbsp;0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8=
b4, =0A0x59b33d17, 0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad,<BR>&nbsp;&=
nbsp;0xedb88320, =0A0x9abfb3b6, 0x03b6e20c, 0x74b1d29a, 0xead5473=
9, 0x9dd277af, 0x04db2615, =0A0x73dc1683,<BR>&nbsp;&nbsp;0xe3630b=
12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8, =0A0xe40ecf0b, 0x9309ff9d=
, 0x0a00ae27, 0x7d079eb1,<BR>&nbsp;&nbsp;0xf00f9344, =0A0x8708a3d=
2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb, 0x196c3671, =0A=
0x6e6b06e7,<BR>&nbsp;&nbsp;0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x=
67dd4acc, =0A0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,<BR>&=
nbsp;&nbsp;0xd6d6a3e8, =0A0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd=
1bb67f1, 0xa6bc5767, 0x3fb506dd, =0A0x48b2364b,<BR>&nbsp;&nbsp;0x=
d80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, =0A0xdf60efc3, 0xa8=
67df55, 0x316e8eef, 0x4669be79,<BR>&nbsp;&nbsp;0xcb61b38c, =0A0xb=
c66831a, 0x256fd2a0, 0x5268e236, 0xcc0c7795, 0xbb0b4703, 0x220216=
b9, =0A0x5505262f,<BR>&nbsp;&nbsp;0xc5ba3bbe, 0xb2bd0b28, 0x2bb45=
a92, 0x5cb36a04, =0A0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1=
d,<BR>&nbsp;&nbsp;0x9b64c2b0, =0A0xec63f226, 0x756aa39c, 0x026d93=
0a, 0x9c0906a9, 0xeb0e363f, 0x72076785, =0A0x05005713,<BR>&nbsp;&=
nbsp;0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, =0A0x92d28e9=
b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21,<BR>&nbsp;&nbsp;0x86d3d2d4,=
 =0A0xf1d4e242, 0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0=
x6fb077e1, =0A0x18b74777,<BR>&nbsp;&nbsp;0x88085ae6, 0xff0f6a70,=20=
0x66063bca, 0x11010b5c, =0A0x8f659eff, 0xf862ae69, 0x616bffd3, 0x=
166ccf45,<BR>&nbsp;&nbsp;0xa00ae278, =0A0xd70dd2ee, 0x4e048354, 0=
x3903b3c2, 0xa7672661, 0xd06016f7, 0x4969474d, =0A0x3e6e77db,<BR>=
&nbsp;&nbsp;0xaed16a4a, 0xd9d65adc, 0x40df0b66, 0x37d83bf0, =0A0x=
a9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,<BR>&nbsp;&nbsp;0xbd=
bdf21c, =0A0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd7=
0693, 0x54de5729, =0A0x23d967bf,<BR>&nbsp;&nbsp;0xb3667a2e, 0xc46=
14ab8, 0x5d681b02, 0x2a6f2b94, =0A0xb40bbe37, 0xc30c8ea1, 0x5a05d=
f1b, 0x2d02ef8d<BR>};<BR><FONT =0Acolor=3D#0000ff><B>static</B></=
FONT> <FONT color=3D#0000ff><B>const</B></FONT> =0Auint32_t crc_s=
upport[<FONT color=3D#6e00aa>3</FONT>][<FONT color=3D#6e00aa>4</F=
ONT>] =0A<FONT color=3D#333399>=3D</FONT> {<BR>&nbsp;<FONT color=3D=
#008000>//{0x1FC6392A , =0A0x220E1C1F , 0x4C83FB63 , 0x17194601},=
 // CB88</FONT><BR>&nbsp;<FONT =0Acolor=3D#008000>//{0x6BE73B6A ,=
 0xBA8E3843 , 0x97ED6DCB , 0xE2434645 } // =0AAT9</FONT><BR>&nbsp=
;<FONT color=3D#008000>/** =BD=AB CRC32=BE=AD=BC=F2=B5=A5=D4=CB=CB=
=E3=D6=AE=BA=F3=B4=E6=B4=A2<BR>&nbsp;&nbsp;* =0Aeg: printf("\t[%0=
8X | %08X | %08X | %08X | %08X]\r\n", crc32[0]-1, crc32[1]-2, =0A=
crc32[2]-3, crc32[3]-4, =0Acrc32[4]-5);<BR>&nbsp;&nbsp;*/</FONT><=
BR>&nbsp;{0x7516BC9C , 0x6F78390D , =0A0x116BC695 , 0x12073FDA },=
 <FONT color=3D#008000>// =0Aopendev</FONT><BR>&nbsp;{0xD737681C=20=
, 0xD2C36AC5 , 0x21B025CF , 0xD1326D5A }, =0A<FONT color=3D#00800=
0>// opendev V0.18</FONT><BR>&nbsp;{0x8D0BD7C9 , 0x730B35B5 , =0A=
0x0EEDB7A9 , 0x5219DF57 } <FONT color=3D#008000>// USBS =0AV1.20<=
/FONT><BR>};<BR><FONT color=3D#0000ff><B>static</B></FONT> <FONT=20=
=0Acolor=3D#0000ff><B>const</B></FONT> uint32_t License <FONT col=
or=3D#333399>=3D</FONT> =0A0x990951ba;<BR><FONT =0Acolor=3D#00800=
0>/**************************************************************=
**********************************<BR>&nbsp;* =0AName: crc32part<=
BR>&nbsp;*<BR>&nbsp;* =0ADescription:<BR>&nbsp;*&nbsp;&nbsp;&nbsp=
;Continue CRC calculation on a part of =0Athe =0Abuffer.<BR>&nbsp=
;*<BR>&nbsp;*****************************************************=
*******************************************/</FONT><BR>__inline =0A=
<FONT color=3D#0000ff><B>static</B></FONT> uint32_t crc32part(<FO=
NT =0Acolor=3D#0000ff><B>const</B></FONT> uint8_t <FONT color=3D#=
333399>*</FONT>src, =0Asize_t len, uint32_t crc32val)<BR>{<BR>&nb=
sp;&nbsp;size_t =0Ai;<BR>&nbsp;&nbsp;<FONT color=3D#0000ff><B>for=
</B></FONT> (i <FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D=
#6e00aa>0</FONT>;&nbsp;&nbsp;i <FONT =0Acolor=3D#333399>&lt;</FON=
T> len;&nbsp;&nbsp;i<FONT =0Acolor=3D#333399>++</FONT>)<BR>&nbsp;=
&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crc32v=
al =0A<FONT color=3D#333399>=3D</FONT> crc32_tab[(crc32val <FONT=20=
color=3D#333399>^</FONT> =0Asrc[i]) <FONT color=3D#333399>&amp;</=
FONT> 0xff] <FONT color=3D#333399>^</FONT> =0A(crc32val <FONT col=
or=3D#333399>&gt;&gt;</FONT> <FONT =0Acolor=3D#6e00aa>8</FONT>);<=
BR>&nbsp;&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#000=
0ff><B>return</B></FONT> crc32val;<BR>}<BR>__inline <FONT =0Acolo=
r=3D#0000ff><B>static</B></FONT>&nbsp;&nbsp;<FONT =0Acolor=3D#000=
0ff><B>void</B></FONT> calculate_fw_crc(uint32_t sum[])<BR>{<BR>#=
<FONT =0Acolor=3D#0000ff><B>define</B></FONT> APP_SIZE_MAX_1 0x28=
00 <FONT color=3D#008000>// =0A10K</FONT><BR>#<FONT color=3D#0000=
ff><B>define</B></FONT> APP_SIZE_MAX_2 0x3C00 =0A<FONT color=3D#0=
08000>// 15K</FONT><BR>#<FONT color=3D#0000ff><B>define</B></FONT=
> =0AAPP_SIZE_MAX_3 0x4800 <FONT color=3D#008000>// 18K</FONT><BR=
>#<FONT =0Acolor=3D#0000ff><B>define</B></FONT> APP_SIZE_MAX_4 0x=
4C00 <FONT color=3D#008000>// =0A19K</FONT><BR>#<FONT color=3D#00=
00ff><B>define</B></FONT> APP_SIZE_MAX_5 0x5000 =0A<FONT color=3D=
#008000>// 20K</FONT><BR><FONT color=3D#008000>//#define =0ABLOCK=
_SIZE_MAX 0x1000 // 4K</FONT><BR>#<FONT color=3D#0000ff><B>define=
</B></FONT> =0AAPP_LOAD_ADDRESS 0x08000000<BR>&nbsp;<FONT color=3D=
#008000>// compute CRC of the =0Acurrent firmware</FONT><BR>&nbsp=
;<FONT color=3D#008000>//uint32_t sum =3D =0A0;</FONT><BR>&nbsp;<=
FONT color=3D#0000ff><B>unsigned</B></FONT> p <FONT =0Acolor=3D#3=
33399>=3D</FONT> <FONT color=3D#6e00aa>0</FONT>;<BR>&nbsp;<FONT =0A=
color=3D#008000>//int block=3D0;</FONT><BR>&nbsp;<FONT color=3D#0=
08000>// =D7=EE=BA=F3 =0A1K=D3=D0=BC=D3=C3=DC=D0=C5=CF=A2=BB=E1=B5=
=BC=D6=C2=D0=A3=D1=E9=D6=B5=B2=BB=CD=AC</FONT><BR>&nbsp;<FONT col=
or=3D#008000>// 10 + 5 + 3 + 1 + =0A1</FONT><BR>&nbsp;<FONT color=
=3D#0000ff><B>for</B></FONT> (p <FONT =0Acolor=3D#333399>=3D</FON=
T> <FONT color=3D#6e00aa>1024</FONT>; p <FONT =0Acolor=3D#333399>=
&lt;</FONT> APP_SIZE_MAX_1; p <FONT color=3D#333399>+=3D</FONT> <=
FONT =0Acolor=3D#6e00aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes=
 <FONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#333399>*</FON=
T>(uint32_t <FONT =0Acolor=3D#333399>*</FONT>)(p <FONT color=3D#3=
33399>+</FONT> =0AAPP_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D=
#333399>*</FONT>sum <FONT =0Acolor=3D#333399>=3D</FONT> crc32part=
((uint8_t <FONT color=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399=
>&amp;</FONT>bytes, <FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>=
(bytes), <FONT =0Acolor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nb=
sp;sum<FONT =0Acolor=3D#333399>++</FONT>;<BR>&nbsp;<FONT color=3D=
#0000ff><B>for</B></FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT>=20=
<FONT color=3D#6e00aa>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt=
;</FONT> APP_SIZE_MAX_2; p <FONT color=3D#333399>+=3D</FONT> <FON=
T =0Acolor=3D#6e00aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <F=
ONT =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#333399>*</FONT>(=
uint32_t <FONT =0Acolor=3D#333399>*</FONT>)(p <FONT color=3D#3333=
99>+</FONT> =0AAPP_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#3=
33399>*</FONT>sum <FONT =0Acolor=3D#333399>=3D</FONT> crc32part((=
uint8_t <FONT color=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399>&=
amp;</FONT>bytes, <FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(b=
ytes), <FONT =0Acolor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp=
;sum<FONT =0Acolor=3D#333399>++</FONT>;<BR>&nbsp;<FONT color=3D#0=
000ff><B>for</B></FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT> <F=
ONT color=3D#6e00aa>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt;<=
/FONT> APP_SIZE_MAX_3; p <FONT color=3D#333399>+=3D</FONT> <FONT=20=
=0Acolor=3D#6e00aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FON=
T =0Acolor=3D#333399>=3D</FONT> <FONT color=3D#333399>*</FONT>(ui=
nt32_t <FONT =0Acolor=3D#333399>*</FONT>)(p <FONT color=3D#333399=
>+</FONT> =0AAPP_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333=
399>*</FONT>sum <FONT =0Acolor=3D#333399>=3D</FONT> crc32part((ui=
nt8_t <FONT color=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399>&am=
p;</FONT>bytes, <FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(byt=
es), <FONT =0Acolor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;s=
um<FONT =0Acolor=3D#333399>++</FONT>;<BR>&nbsp;<FONT color=3D#000=
0ff><B>for</B></FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT> <FON=
T color=3D#6e00aa>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt;</F=
ONT> APP_SIZE_MAX_4; p <FONT color=3D#333399>+=3D</FONT> <FONT =0A=
color=3D#6e00aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0A=
color=3D#333399>=3D</FONT> <FONT color=3D#333399>*</FONT>(uint32_=
t <FONT =0Acolor=3D#333399>*</FONT>)(p <FONT color=3D#333399>+</F=
ONT> =0AAPP_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*=
</FONT>sum <FONT =0Acolor=3D#333399>=3D</FONT> crc32part((uint8_t=
 <FONT color=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</F=
ONT>bytes, <FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(bytes),=20=
<FONT =0Acolor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;sum<FO=
NT =0Acolor=3D#333399>++</FONT>;<BR>&nbsp;<FONT color=3D#0000ff><=
B>for</B></FONT> (p <FONT =0Acolor=3D#333399>=3D</FONT> <FONT col=
or=3D#6e00aa>1024</FONT>; p <FONT =0Acolor=3D#333399>&lt;</FONT>=20=
APP_SIZE_MAX_5; p <FONT color=3D#333399>+=3D</FONT> <FONT =0Acolo=
r=3D#6e00aa>4</FONT>) {<BR>&nbsp;&nbsp;uint32_t bytes <FONT =0Aco=
lor=3D#333399>=3D</FONT> <FONT color=3D#333399>*</FONT>(uint32_t=20=
<FONT =0Acolor=3D#333399>*</FONT>)(p <FONT color=3D#333399>+</FON=
T> =0AAPP_LOAD_ADDRESS);<BR>&nbsp;&nbsp;<FONT color=3D#333399>*</=
FONT>sum <FONT =0Acolor=3D#333399>=3D</FONT> crc32part((uint8_t <=
FONT color=3D#333399>*</FONT>)<FONT =0Acolor=3D#333399>&amp;</FON=
T>bytes, <FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(bytes), <F=
ONT =0Acolor=3D#333399>*</FONT>sum);<BR>&nbsp;}<BR>&nbsp;<FONT co=
lor=3D#008000>//return =0Asum;</FONT><BR>}<BR><FONT color=3D#0080=
00>//=B6=C1=C8=A1=D6=B8=B6=A8=B5=D8=D6=B7=B5=C4=B0=EB=D7=D6(16=CE=
=BB=CA=FD=BE=DD)</FONT><BR><FONT =0Acolor=3D#008000>//faddr:=B6=C1=
=B5=D8=D6=B7(=B4=CB=B5=D8=D6=B7=B1=D8=D0=EB=CE=AA2=B5=C4=B1=B6=CA=
=FD!!)</FONT><BR><FONT =0Acolor=3D#008000>//=B7=B5=BB=D8=D6=B5:=B6=
=D4=D3=A6=CA=FD=BE=DD.</FONT><BR>__inline <FONT =0Acolor=3D#0000f=
f><B>static</B></FONT> uint16_t match_ReadHalfWord(uint32_t =0Afa=
ddr)<BR>{<BR>&nbsp;<FONT color=3D#0000ff><B>return</B></FONT> <FO=
NT =0Acolor=3D#333399>*</FONT>(vu16<FONT =0Acolor=3D#333399>*</FO=
NT>)faddr;&nbsp;<BR>}<BR><FONT =0Acolor=3D#008000>//=B4=D3=D6=B8=B6=
=A8=B5=D8=D6=B7=BF=AA=CA=BC=B6=C1=B3=F6=D6=B8=B6=A8=B3=A4=B6=C8=B5=
=C4=CA=FD=BE=DD</FONT><BR><FONT =0Acolor=3D#008000>//ReadAddr:=C6=
=F0=CA=BC=B5=D8=D6=B7</FONT><BR><FONT =0Acolor=3D#008000>//pBuffe=
r:=CA=FD=BE=DD=D6=B8=D5=EB</FONT><BR><FONT =0Acolor=3D#008000>//N=
umToWrite:=B0=EB=D7=D6(16=CE=BB)=CA=FD</FONT><BR>__inline <FONT =0A=
color=3D#0000ff><B>static</B></FONT> <FONT color=3D#0000ff><B>voi=
d</B></FONT> =0Amatch_Read(uint32_t ReadAddr,uint16_t <FONT =0Aco=
lor=3D#333399>*</FONT>pBuffer,uint16_t =0ANumToRead)&nbsp;&nbsp;&=
nbsp;&nbsp;<BR>{<BR>&nbsp;uint16_t i;<BR>&nbsp;<FONT =0Acolor=3D#=
0000ff><B>for</B></FONT>(i<FONT color=3D#333399>=3D</FONT><FONT =0A=
color=3D#6e00aa>0</FONT>;i<FONT color=3D#333399>&lt;</FONT>NumToR=
ead;i<FONT =0Acolor=3D#333399>++</FONT>)<BR>&nbsp;{<BR>&nbsp;&nbs=
p;pBuffer[i]<FONT =0Acolor=3D#333399>=3D</FONT>match_ReadHalfWord=
(ReadAddr);<FONT =0Acolor=3D#008000>//=B6=C1=C8=A12=B8=F6=D7=D6=BD=
=DA.</FONT><BR>&nbsp;&nbsp;ReadAddr<FONT =0Acolor=3D#333399>+=3D<=
/FONT><FONT color=3D#6e00aa>2</FONT>;<FONT =0Acolor=3D#008000>//=C6=
=AB=D2=C62=B8=F6=D7=D6=BD=DA.</FONT>&nbsp;<BR>&nbsp;}<BR>}<BR><FO=
NT color=3D#008000>// =0A=D0=C5=CF=A2=BC=D3=C3=DC,=BD=F6=B9=A9 Ap=
p=CA=B9=D3=C3,=D7=D4=C9=ED=B2=BB=B6=D4=C6=E4=BD=F8=D0=D0=D0=A3=D1=
=E9</FONT><BR><FONT color=3D#0000ff><B>static</B></FONT> <FONT =0A=
color=3D#0000ff><B>void</B></FONT> UserLicense(uint32_t flash[],=20=
uint32_t =0Auid[<FONT color=3D#6e00aa>3</FONT>])<BR>{<BR>&nbsp;<F=
ONT color=3D#008000>// =CA=B9=D3=C3=D3=C3=BB=A7 =0ALicense=BD=F8=D0=
=D0=C7=A9=C3=FB</FONT><BR>&nbsp;<FONT color=3D#008000>//uint32_t=20=
*sign =3D (uint32_t =0A*)(flash);</FONT><BR>&nbsp;uint32_t <FONT=20=
color=3D#333399>*</FONT>sign <FONT =0Acolor=3D#333399>=3D</FONT>=20=
(flash);<BR>&nbsp;&nbsp;&nbsp;&nbsp;sign[<FONT =0Acolor=3D#6e00aa=
>0</FONT>] <FONT color=3D#333399>=3D</FONT> ((<FONT =0Acolor=3D#3=
33399>~</FONT>uid[<FONT color=3D#6e00aa>0</FONT>])<FONT =0Acolor=3D=
#333399>&amp;</FONT>uid[<FONT =0Acolor=3D#6e00aa>2</FONT>]);<BR>&=
nbsp;&nbsp;&nbsp;&nbsp;sign[<FONT =0Acolor=3D#6e00aa>1</FONT>] <F=
ONT color=3D#333399>=3D</FONT> (uid[<FONT =0Acolor=3D#6e00aa>1</F=
ONT>]<FONT color=3D#333399>&amp;</FONT>(<FONT =0Acolor=3D#333399>=
~</FONT>uid[<FONT =0Acolor=3D#6e00aa>2</FONT>]));<BR>&nbsp;&nbsp;=
&nbsp;&nbsp;sign[<FONT =0Acolor=3D#6e00aa>2</FONT>] <FONT color=3D=
#333399>=3D</FONT> uid[<FONT =0Acolor=3D#6e00aa>0</FONT>]<FONT co=
lor=3D#333399>^</FONT>uid[<FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT=
 color=3D#333399>^</FONT>License;<BR>&nbsp;sign[<FONT =0Acolor=3D=
#6e00aa>3</FONT>] <FONT color=3D#333399>=3D</FONT> uid[<FONT =0Ac=
olor=3D#6e00aa>0</FONT>]<FONT color=3D#333399>^</FONT>(sign[<FONT=
 =0Acolor=3D#6e00aa>2</FONT>]<FONT color=3D#333399>|</FONT>(<FONT=
 =0Acolor=3D#333399>~</FONT>License));<BR>&nbsp;sign[<FONT color=3D=
#6e00aa>4</FONT>] =0A<FONT color=3D#333399>=3D</FONT> uid[<FONT c=
olor=3D#6e00aa>0</FONT>]<FONT =0Acolor=3D#333399>+</FONT>uid[<FON=
T color=3D#6e00aa>1</FONT>]<FONT =0Acolor=3D#333399>+</FONT>uid[<=
FONT color=3D#6e00aa>2</FONT>];<BR>&nbsp;sign[<FONT =0Acolor=3D#6=
e00aa>5</FONT>] <FONT color=3D#333399>=3D</FONT> (sign[<FONT =0Ac=
olor=3D#6e00aa>0</FONT>]<FONT color=3D#333399>+</FONT>sign[<FONT=20=
=0Acolor=3D#6e00aa>3</FONT>])<FONT color=3D#333399>|</FONT>(uid[<=
FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>&amp;</FON=
T>(<FONT =0Acolor=3D#333399>~</FONT>uid[<FONT color=3D#6e00aa>2</=
FONT>]));<BR>&nbsp;sign[<FONT =0Acolor=3D#6e00aa>6</FONT>] <FONT=20=
color=3D#333399>=3D</FONT> (sign[<FONT =0Acolor=3D#6e00aa>1</FONT=
>]<FONT color=3D#333399>+</FONT>sign[<FONT =0Acolor=3D#6e00aa>4</=
FONT>])<FONT color=3D#333399>|</FONT>(uid[<FONT =0Acolor=3D#6e00a=
a>1</FONT>]<FONT color=3D#333399>&amp;</FONT>(<FONT =0Acolor=3D#3=
33399>~</FONT>uid[<FONT color=3D#6e00aa>2</FONT>]));<BR>&nbsp;sig=
n[<FONT =0Acolor=3D#6e00aa>7</FONT>] <FONT color=3D#333399>=3D</F=
ONT> (sign[<FONT =0Acolor=3D#6e00aa>2</FONT>]<FONT color=3D#33339=
9>+</FONT>sign[<FONT =0Acolor=3D#6e00aa>5</FONT>])<FONT color=3D#=
333399>|</FONT>(uid[<FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT color=
=3D#333399>&amp;</FONT>(<FONT =0Acolor=3D#333399>~</FONT>uid[<FON=
T color=3D#6e00aa>2</FONT>]));<BR>}<BR>&nbsp;<FONT =0Acolor=3D#00=
00ff><B>int</B></FONT> main(<FONT =0Acolor=3D#0000ff><B>void</B><=
/FONT>)<BR>&nbsp;{<BR>&nbsp;<FONT =0Acolor=3D#008000>//mtext* _mt=
ext=3DNULL;</FONT><BR>&nbsp;<FONT color=3D#008000>//mtext =0Apass=
wd;</FONT><BR>&nbsp;uint32_t<FONT color=3D#333399>*</FONT> _mtext=
<FONT =0Acolor=3D#333399>=3D</FONT>NULL;<BR>&nbsp;uint32_t passwd=
[<FONT =0Acolor=3D#6e00aa>8</FONT>]<FONT color=3D#333399>=3D</FON=
T>{<FONT =0Acolor=3D#6e00aa>0</FONT>};<BR>&nbsp;uint32_t uid[<FON=
T =0Acolor=3D#6e00aa>3</FONT>]<FONT color=3D#333399>=3D</FONT>{<F=
ONT =0Acolor=3D#6e00aa>0</FONT>};<BR>&nbsp;<FONT color=3D#0000ff>=
<B>char</B></FONT> =0Abuf[BUF_LEN]<FONT color=3D#333399>=3D</FONT=
>{<FONT =0Acolor=3D#6e00aa>0</FONT>};<BR>&nbsp;<FONT color=3D#000=
0ff><B>int</B></FONT> =0Amatch<FONT color=3D#333399>=3D</FONT><FO=
NT color=3D#6e00aa>0</FONT>;&nbsp;<BR>&nbsp;u8 =0At;<BR>&nbsp;<FO=
NT color=3D#008000>//u8 len;</FONT>&nbsp;<BR>&nbsp;u16 times<FONT=
 =0Acolor=3D#333399>=3D</FONT><FONT color=3D#6e00aa>0</FONT>;&nbs=
p;<BR>&nbsp;<FONT =0Acolor=3D#008000>//uint32_t addr=3D0;</FONT><=
BR>&nbsp;<FONT color=3D#008000>//char =0Astr[64] =3D {0};</FONT><=
BR>&nbsp;<FONT color=3D#0000ff><B>int</B></FONT> Flag<FONT =0Acol=
or=3D#333399>=3D</FONT><FONT color=3D#6e00aa>0</FONT>; <FONT colo=
r=3D#008000>// =0A=CD=A8=B9=FD=B8=C3=B1=E4=C1=BF=BC=EC=B2=E2=CA=C7=
=B7=F1=C7=BF=D0=D0=CC=F8=B9=FD=C1=CB=BC=D3=C3=DC=D0=A3=D1=E9=B4=FA=
=C2=EB</FONT><BR>&nbsp;uint32_t crc32[<FONT =0Acolor=3D#6e00aa>5<=
/FONT>] <FONT color=3D#333399>=3D</FONT> {<FONT =0Acolor=3D#6e00a=
a>0</FONT>};<BR>&nbsp;<FONT color=3D#0000ff><B>const</B></FONT> =0A=
uint32_t <FONT color=3D#333399>*</FONT>support <FONT color=3D#333=
399>=3D</FONT> =0ANULL;<BR>&nbsp;<FONT color=3D#0000ff><B>int</B>=
</FONT> crc_flag <FONT =0Acolor=3D#333399>=3D</FONT> <FONT =0Acol=
or=3D#6e00aa>0</FONT>;<BR>&nbsp;<BR>&nbsp;&nbsp;NVIC_SetVectorTab=
le(NVIC_VectTab_FLASH, =0AVectTabOffset);<BR>&nbsp;delay_init();&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#008000=
>//=D1=D3=CA=B1=BA=AF=CA=FD=B3=F5=CA=BC=BB=AF</FONT>&nbsp;<BR>&nb=
sp;NVIC_Configuration();<FONT =0Acolor=3D#008000>// =C9=E8=D6=C3=D6=
=D0=B6=CF=D3=C5=CF=C8=BC=B6=B7=D6=D7=E9</FONT><BR>&nbsp;uart_init=
(<FONT =0Acolor=3D#6e00aa>115200</FONT>);&nbsp;&nbsp;<FONT =0Acol=
or=3D#008000>//=B4=AE=BF=DA=B3=F5=CA=BC=BB=AF=CE=AA9600</FONT><BR=
>&nbsp;printf(<FONT color=3D#ff00bf>"\r\nApp =0Astart!\r\n"</FONT=
>);<BR>&nbsp;<FONT color=3D#008000>// =0A=B2=E2=CA=D4=BC=D3=C3=DC=
</FONT><BR>&nbsp;{<BR>&nbsp;&nbsp;<FONT color=3D#008000>// read =0A=
UID</FONT><BR>&nbsp;&nbsp;uid[<FONT color=3D#6e00aa>0</FONT>]<FON=
T =0Acolor=3D#333399>=3D</FONT><FONT color=3D#333399>*</FONT>(vu3=
2<FONT =0Acolor=3D#333399>*</FONT>)(0x1ffff7e8);<BR>&nbsp;&nbsp;u=
id[<FONT =0Acolor=3D#6e00aa>1</FONT>]<FONT color=3D#333399>=3D</F=
ONT><FONT =0Acolor=3D#333399>*</FONT>(vu32<FONT =0Acolor=3D#33339=
9>*</FONT>)(0x1ffff7ec);<BR>&nbsp;&nbsp;uid[<FONT =0Acolor=3D#6e0=
0aa>2</FONT>]<FONT color=3D#333399>=3D</FONT><FONT =0Acolor=3D#33=
3399>*</FONT>(vu32<FONT =0Acolor=3D#333399>*</FONT>)(0x1ffff7f0);=
<BR>&nbsp;&nbsp;<FONT color=3D#008000>// =0Apasswd</FONT><BR>&nbs=
p;&nbsp;UserLicense(passwd, uid);<BR>&nbsp;&nbsp;Flag <FONT =0Aco=
lor=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>1</FONT>;<BR>#<FON=
T =0Acolor=3D#0000ff><B>if</B></FONT> <FONT color=3D#6e00aa>1</FO=
NT><BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>// read flash</FONT><=
BR>&nbsp;&nbsp;match_Read(0x0800000C, =0A(uint16_t<FONT color=3D#=
333399>*</FONT>)buf, BUF_LEN<FONT =0Acolor=3D#333399>/</FONT><FON=
T color=3D#6e00aa>2</FONT>);<BR>&nbsp;&nbsp;_mtext <FONT =0Acolor=
=3D#333399>=3D</FONT> (uint32_t<FONT color=3D#333399>*</FONT>)buf=
;<BR>#<FONT =0Acolor=3D#0000ff><B>else</B></FONT><BR>&nbsp;&nbsp;=
_mtext <FONT =0Acolor=3D#333399>=3D</FONT> (uint32_t<FONT =0Acolo=
r=3D#333399>*</FONT>)0x0800000C;<BR>#<FONT =0Acolor=3D#0000ff><B>=
endif</B></FONT><BR>&nbsp;&nbsp;<FONT color=3D#008000>// =0Amatch=
</FONT><BR>&nbsp;&nbsp;<FONT color=3D#0000ff><B>for</B></FONT>(t<=
FONT =0Acolor=3D#333399>=3D</FONT><FONT color=3D#6e00aa>0</FONT>;=
 t<FONT =0Acolor=3D#333399>&lt;</FONT><FONT color=3D#6e00aa>8</FO=
NT>; t<FONT =0Acolor=3D#333399>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nb=
sp;&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>(passwd[t=
] <FONT color=3D#333399>!=3D</FONT> =0A_mtext[t]) match<FONT colo=
r=3D#333399>=3D</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>;<BR>&nbsp=
;&nbsp;}<BR>&nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"bootload=
er:%s"</FONT>, (<FONT =0Acolor=3D#0000ff><B>char</B></FONT><FONT=20=
=0Acolor=3D#333399>*</FONT>)0x080000F0);<BR>&nbsp;&nbsp;calculate=
_fw_crc(crc32); =0A<FONT color=3D#008000>// crc32=D0=A3=D1=E9 boo=
tloader</FONT><BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>// CRC=D0=A3=
=D1=E9,=B5=C3=B5=BD 5=B8=F6CRC=D6=B5,=B5=AB=CA=B5=BC=CA=D6=BB=C4=DC=
=CA=B9=D3=C34=B8=F6, =0Acrc32[4]=B0=FC=BA=AC=C1=CB=BC=D3=C3=DC=D0=
=C5=CF=A2,=C3=BF=B8=F6=D0=BE=C6=AC=B6=BC=B2=BB=D2=BB=D1=F9</FONT>=
<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>//printf("CRC32:[%08X |=20=
%08X | %08X | %08X | %08X]\r\n", crc32[0], =0Acrc32[1], crc32[2],=
 crc32[3], crc32[4]);</FONT><BR>&nbsp;&nbsp;crc_flag <FONT =0Acol=
or=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>0</FONT>;<BR>&nbsp;=
&nbsp;<FONT =0Acolor=3D#0000ff><B>for</B></FONT>(t<FONT color=3D#=
333399>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>; t<FONT color=3D=
#333399>&lt;</FONT><FONT =0Acolor=3D#0000ff><B>sizeof</B></FONT>(=
crc_support)<FONT color=3D#333399>/</FONT><FONT =0Acolor=3D#0000f=
f><B>sizeof</B></FONT>(crc_support[<FONT color=3D#6e00aa>0</FONT>=
]); =0At<FONT color=3D#333399>++</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbs=
p;&nbsp;&nbsp;support =0A<FONT color=3D#333399>=3D</FONT> <FONT =0A=
color=3D#333399>&amp;</FONT>(crc_support[t][<FONT =0Acolor=3D#6e0=
0aa>0</FONT>]);<BR>&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>=
if</B></FONT>((crc32[<FONT color=3D#6e00aa>0</FONT>]<FONT =0Acolo=
r=3D#333399>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>0</FONT>]=
<FONT =0Acolor=3D#333399>+</FONT><FONT color=3D#6e00aa>1</FONT>))=
 <FONT =0Acolor=3D#333399>&amp;&amp;</FONT> (crc32[<FONT color=3D=
#6e00aa>1</FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT>(support[<=
FONT color=3D#6e00aa>1</FONT>]<FONT =0Acolor=3D#333399>+</FONT><F=
ONT color=3D#6e00aa>1</FONT>)) <FONT =0Acolor=3D#333399>&amp;&amp=
;</FONT> (crc32[<FONT color=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#=
333399>=3D=3D</FONT>(support[<FONT color=3D#6e00aa>2</FONT>]<FONT=
 =0Acolor=3D#333399>+</FONT><FONT color=3D#6e00aa>1</FONT>)) <FON=
T =0Acolor=3D#333399>&amp;&amp;</FONT> (crc32[<FONT color=3D#6e00=
aa>3</FONT>]<FONT =0Acolor=3D#333399>=3D=3D</FONT>(support[<FONT=20=
color=3D#6e00aa>3</FONT>]<FONT =0Acolor=3D#333399>+</FONT><FONT =0A=
color=3D#6e00aa>1</FONT>)))<BR>&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nbsp=
;&nbsp;&nbsp;crc_flag =0A<FONT color=3D#333399>=3D</FONT> <FONT =0A=
color=3D#6e00aa>1</FONT>;<BR>&nbsp;&nbsp;&nbsp;}<BR>&nbsp;&nbsp;}=
<BR>&nbsp;}<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>(<F=
ONT color=3D#6e00aa>0</FONT> <FONT =0Acolor=3D#333399>!=3D</FONT>=
 match)<BR>&nbsp;{<BR>&nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff00bf=
>"match error!\r\n"</FONT>);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#000=
0ff><B>goto</B></FONT> UN_PERMISSION; <FONT color=3D#008000>// =0A=
=B3=F6=B4=ED=B4=A6=C0=ED</FONT><BR>&nbsp;}<BR>&nbsp;printf(<FONT=20=
color=3D#ff00bf>"match =0AOK!\r\n"</FONT>);<BR>&nbsp;<FONT color=3D=
#0000ff><B>if</B></FONT>(<FONT =0Acolor=3D#6e00aa>1</FONT><FONT =0A=
color=3D#333399>!=3D</FONT>crc_flag)<BR>&nbsp;{<BR>&nbsp;&nbsp;pr=
intf(<FONT =0Acolor=3D#ff00bf>"not support board!\r\n"</FONT>);<B=
R>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>goto</B></FONT> UN_PERM=
ISSION; <FONT color=3D#008000>// =0A=B3=F6=B4=ED=B4=A6=C0=ED</FON=
T><BR>&nbsp;}<BR>&nbsp;<FONT color=3D#008000>// =B2=E2=CA=D4,=D3=C3=
=D3=DA=BB=F1=C8=A1 =0ACRC32=D6=B5</FONT><BR>&nbsp;printf(<FONT co=
lor=3D#ff00bf>"CRC32:[%08X | %08X | %08X | =0A%08X | %08X]\r\n"</=
FONT>, crc32[<FONT color=3D#6e00aa>0</FONT>], crc32[<FONT =0Acolo=
r=3D#6e00aa>1</FONT>], crc32[<FONT color=3D#6e00aa>2</FONT>], crc=
32[<FONT =0Acolor=3D#6e00aa>3</FONT>], crc32[<FONT =0Acolor=3D#6e=
00aa>4</FONT>]);<BR>&nbsp;printf(<FONT color=3D#ff00bf>"support =0A=
board!\r\n"</FONT>);<BR>&nbsp;<FONT color=3D#0000ff><B>if</B></FO=
NT>(<FONT =0Acolor=3D#6e00aa>0</FONT><FONT color=3D#333399>=3D=3D=
</FONT>Flag) <FONT color=3D#008000>// =0A=B1=BB=CC=F8=B9=FD=BC=D3=
=C3=DC=D0=A3=D1=E9</FONT><BR>&nbsp;{<BR>&nbsp;&nbsp;printf(<FONT=20=
color=3D#ff00bf>"match2 =0Aerror!\r\n"</FONT>);<BR>&nbsp;&nbsp;<F=
ONT color=3D#0000ff><B>goto</B></FONT> =0AUN_PERMISSION; <FONT co=
lor=3D#008000>// =B3=F6=B4=ED=B4=A6=C0=ED</FONT><BR>&nbsp;}<BR>lo=
op<FONT =0Acolor=3D#333399>:</FONT><BR>&nbsp;<FONT color=3D#0000f=
f><B>while</B></FONT>(<FONT =0Acolor=3D#6e00aa>1</FONT>)<BR>&nbsp=
;{<BR>&nbsp;&nbsp;times<FONT =0Acolor=3D#333399>++</FONT>;&nbsp;&=
nbsp;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>(ti=
mes<FONT color=3D#333399>&gt;</FONT><FONT =0Acolor=3D#6e00aa>50</=
FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;printf(<FONT =0Acolo=
r=3D#ff00bf>"\r\n USBS Test App\r\n"</FONT>);<BR>&nbsp;&nbsp;&nbs=
p;times <FONT =0Acolor=3D#333399>=3D</FONT> <FONT =0Acolor=3D#6e0=
0aa>0</FONT>;<BR>&nbsp;&nbsp;}<BR>&nbsp;&nbsp;delay_ms(<FONT =0Ac=
olor=3D#6e00aa>10</FONT>);&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;<FONT=
 =0Acolor=3D#008000>//printf("\r\n test %d\r\n", times);</FONT><B=
R>&nbsp;}<BR><FONT =0Acolor=3D#008000>// unPermission,=C3=BB=D3=D0=
=C8=A8=CF=DE</FONT><BR>UN_PERMISSION<FONT =0Acolor=3D#333399>:</F=
ONT><BR>&nbsp;printf(<FONT color=3D#ff00bf>"You device not =0Arun=
!\r\n"</FONT>);<BR>&nbsp;printf(<FONT =0Acolor=3D#ff00bf>"ERROR:\=
r\n"</FONT>);<BR>&nbsp;printf(<FONT color=3D#ff00bf>"\t[%08X =0A|=
 %08X | %08X | %08X | %08X]\r\n"</FONT>, uid[<FONT color=3D#6e00a=
a>0</FONT>], =0Auid[<FONT color=3D#6e00aa>1</FONT>], uid[<FONT co=
lor=3D#6e00aa>2</FONT>], <FONT =0Acolor=3D#6e00aa>0</FONT>, <FONT=
 color=3D#6e00aa>0</FONT>);<BR>&nbsp;printf(<FONT =0Acolor=3D#ff0=
0bf>"\t[%08X | %08X | %08X | %08X | %08X]\r\n"</FONT>, _mtext[<FO=
NT =0Acolor=3D#6e00aa>0</FONT>]<FONT color=3D#333399>-</FONT><FON=
T color=3D#6e00aa>1</FONT>, =0A_mtext[<FONT color=3D#6e00aa>1</FO=
NT>]<FONT color=3D#333399>-</FONT><FONT =0Acolor=3D#6e00aa>2</FON=
T>, _mtext[<FONT color=3D#6e00aa>2</FONT>]<FONT =0Acolor=3D#33339=
9>-</FONT><FONT color=3D#6e00aa>3</FONT>, <FONT =0Acolor=3D#6e00a=
a>0</FONT>, <FONT color=3D#6e00aa>0</FONT>);<BR>&nbsp;printf(<FON=
T =0Acolor=3D#ff00bf>"\t[%08X | %08X | %08X | %08X | %08X]\r\n"</=
FONT>, crc32[<FONT =0Acolor=3D#6e00aa>0</FONT>]<FONT color=3D#333=
399>-</FONT><FONT color=3D#6e00aa>1</FONT>, =0Acrc32[<FONT color=3D=
#6e00aa>1</FONT>]<FONT color=3D#333399>-</FONT><FONT =0Acolor=3D#=
6e00aa>1</FONT>, crc32[<FONT color=3D#6e00aa>2</FONT>]<FONT =0Aco=
lor=3D#333399>-</FONT><FONT color=3D#6e00aa>1</FONT>, crc32[<FONT=
 =0Acolor=3D#6e00aa>3</FONT>]<FONT color=3D#333399>-</FONT><FONT=20=
color=3D#6e00aa>1</FONT>, =0Acrc32[<FONT color=3D#6e00aa>4</FONT>=
]<FONT color=3D#333399>-</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>)=
;<BR>&nbsp;<FONT color=3D#008000>//support =3D =0A&amp;(crc_suppo=
rt[2][0]);</FONT><BR>&nbsp;<FONT color=3D#008000>//printf("\t[%08=
X =0A| %08X | %08X | %08X ]\r\n", support[0], support[1], support=
[2], =0Asupport[3]);</FONT><BR>&nbsp;<FONT =0Acolor=3D#008000>//w=
hile(1);</FONT><BR>&nbsp;<FONT color=3D#0000ff><B>goto</B></FONT>=
 =0Aloop;<BR>}</DIV>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0=
cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT=
-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPAC=
E: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; w=
ebkit-text-stroke-width: 0px"><BR>&nbsp;</P></BODY></HTML>=0A

------=_Next_Part_0004328812.467--

------=_Next_Part_0012986436.041--

