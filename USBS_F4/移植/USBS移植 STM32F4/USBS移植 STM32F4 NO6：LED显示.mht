From: WizBrother WizMime<support@wizbrother.com>
Subject: =?gb2312?B?VVNCU9LG1rIgU1RNMzJGNCBOTzajukxFRM/Uyr4=?=
Date: Date: Fri, 19 Jun 2015 01:03:21 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0174994968.705"

This is a multi-part message in MIME format.

------=_Next_Part_0174994968.705
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0058331656.145"


------=_Next_Part_0058331656.145
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0058331656.145
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">=0A=
<HTML><HEAD>=0D=0A<meta http-equiv=3D"Content-Type" content=3D"te=
xt/html; charset=3Dgb2312"><TITLE>USBS=D2=C6=D6=B2 STM32F4 NO6=A3=
=BALED=CF=D4=CA=BE</TITLE>=0A=0A<STYLE type=3Dtext/css>=0Abody, p=
, th, td, li, ul, ol, h1, h2, h3, h4, h5, h6, pre=0A{=0A	font-fam=
ily: =CB=CE=CC=E5;=0A	line-height: 1.4;=0A}=0Abody, p, th, td, li=
, ul, ol, pre=0A{=0A	font-size: 12px;=0A}=0A</STYLE>=0A=0A<META c=
ontent=3D"MSHTML 6.00.2900.6550" name=3DGENERATOR></HEAD>=0A<BODY=
><FONT face=3D"Times New Roman"><FONT size=3D7><STRONG>USBS=D2=C6=
=D6=B2 STM32F4 =0ANO6=A3=BALED=CF=D4=CA=BE<BR></STRONG></FONT><FO=
NT =0Asize=3D3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp; =0A--------<SPAN class=3DApple-converted-space>&=
nbsp;</SPAN></FONT></FONT><SPAN =0Astyle=3D"FONT-FAMILY: =CB=CE=CC=
=E5"><FONT size=3D3>=D7=AA=D4=D8=C7=EB=D7=A2=C3=F7=B3=F6=B4=A6<BR=
><FONT =0Aface=3D"Times New Roman">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A--------<SPAN class=3DApp=
le-converted-space>&nbsp;=B8=FC=B6=E0=B1=CA=BC=C7=C7=EB=B7=C3=CE=CA=
=A3=BA<A =0Ahref=3D"http://merafour.blog.163.com/">merafour.blog.=
163.com</A>&nbsp;</SPAN></FONT></FONT></SPAN> =0A=0A<P class=3DMs=
oNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT:=
 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0);=
 TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; o=
rphans: auto; widows: auto; webkit-text-stroke-width: 0px"><FONT=20=
=0Asize=3D3><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5"><SPAN lang=3D=
EN-US><FONT =0Aface=3D"Times New Roman">&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A</FONT></SPAN></SPAN=
><SPAN lang=3DEN-US><FONT face=3D"Times New Roman">-------- =0A20=
15-6-15.</FONT></SPAN><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5">=C0=
=E4=D4=C2=D7=B7=B7=E7</SPAN><SPAN =0Alang=3DEN-US><FONT face=3D"T=
imes New Roman"></FONT></SPAN></FONT></P>=0A<P class=3DMsoNormal=20=
=0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16=
px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-IN=
DENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans:=20=
auto; widows: auto; webkit-text-stroke-width: 0px"><FONT =0Asize=3D=
3><SPAN lang=3DEN-US><FONT =0Aface=3D"Times New Roman"><SPAN>&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SP=
AN =0Aclass=3DApple-converted-space>&nbsp;</SPAN></SPAN>--------=20=
=0Aemail</FONT></SPAN><SPAN style=3D"FONT-FAMILY: =CB=CE=CC=E5">=A3=
=BA</SPAN><SPAN lang=3DEN-US><FONT =0Aface=3D"Times New Roman"><A=
 =0Ahref=3D"mailto:merafour@163.com">merafour@163.com</A><SPAN =0A=
class=3DApple-converted-space>&nbsp;</SPAN></FONT></SPAN></FONT><=
BR></P>=0A<HR>=0A=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm=20=
0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TR=
ANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE:=20=
normal; LETTER-SPACING: normal; orphans: auto; widows: auto; webk=
it-text-stroke-width: 0px"><BR><FONT =0Acolor=3D#ff0000>&nbsp;&nb=
sp;&nbsp; <STRONG><SPAN id=3Dwiz_font_size_span_25612281 =0Astyle=
=3D"FONT-SIZE: 16pt"><STRONG>USBS</STRONG></SPAN></STRONG>=D7=EE=B3=
=F5=CA=C7=B1=CA=D5=DF=BB=F9=D3=DA =0ASTM32F103=CF=B5=C1=D0=BF=AA=B7=
=A2=B3=F6=C0=B4=B5=C4=D2=BB=B8=F6 =0Abootloader=A3=AC=CD=A8=B9=FD=
=B0=D1=C9=E8=B1=B8=D7=F6=B3=C9=D2=BB=B8=F6USB=BD=D3=BF=DA=B5=C4=B4=
=E6=B4=A2=C9=E8=B1=B8=BC=B4U=C5=CC=B4=D3=B6=F8=B0=DA=CD=D1=D2=D4=CD=
=F9=C9=FD=BC=B6=B9=CC=BC=FE=B9=FD=B3=CC=D6=D0=CB=F9=D0=E8=D2=AA=B5=
=C4=C9=CF=CE=BB=BB=FA=B8=FA=C7=FD=B6=AF(=BC=B4=C3=E2=C7=FD)=A1=A3=
USBS=C8=AB=B3=C6=CA=C7=A3=BA"USB =0AStorage"=A3=AC=BE=DF=D3=D0=D2=
=BB=CF=C2=CC=D8=B5=E3=A3=BA<BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp; =D2=BB=A1=A2=D6=BB=D2=AA=C4=E3=B5=C4=B2=D9=D7=F7=CF=B5=
=CD=B3=D6=A7=B3=D6 =0AU=C5=CC=D4=AD=D4=F2=C9=CF=B6=BC=BF=C9=D2=D4=
=CA=B9=D3=C3=A3=AC=C4=BF=C7=B0=D2=D1=BE=AD=B2=E2=CA=D4=C1=CB =0AW=
indows=A1=A2Ubuntu=B8=FA=C6=BB=B9=FB=A3=BB<BR>&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; =B6=FE=A1=A2=BF=C9=CD=A8=B9=FD =0APC=B6=CB=
=C8=ED=BC=FE=C5=E4=D6=C3=CB=F9=CA=B9=D3=C3=B5=C4 IO=B2=A2=C9=E8=D6=
=C3=C6=E4=D3=E0 IO=B5=C4=C4=AC=C8=CF=CA=E4=B3=F6=A3=AC=D2=B2=BE=CD=
=CA=C7=CB=B5=BC=EC=B2=E2 IO=B8=FA LED=D6=B8=CA=BE =0AIO=D3=C3=BB=A7=
=BF=C9=D2=D4=D7=D4=B6=A8=D2=E5=A3=BB<BR>&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp; =C8=FD=A1=A2=D7=D4=B4=F8=B2=BB=D2=C0=C0=B5=CD=E2=
=B2=BF EEPROM=B5=C4=BC=D3=C3=DC=CB=E3=B7=A8=A3=AC =0A32B=BC=D3=C3=
=DC=CA=FD=BE=DD=C8=B7=B1=A3=B3=CC=D0=F2=B6=C1=B5=BD=C1=ED=CD=E2=D2=
=BB=BF=C5 IC=C9=CF=B2=BB=C4=DC=D4=CB=D0=D0=A3=BB<BR>&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =CB=C4=A1=A2=CE=AA =0AApp=CC=E1=B9=A9=
=B5=A5=B6=C0=B5=C4=BC=D3=C3=DC=CB=E3=B7=A8(32B)=A3=AC=D3=C3=BB=A7=
=BF=C9=CD=A8=B9=FD PC=C8=ED=BC=FE=C9=E8=D6=C3=BC=D3=C3=DC "licenc=
e"=A1=A3</FONT><BR><BR>&nbsp;&nbsp;&nbsp; =0A<STRONG><SPAN id=3Dw=
iz_font_size_span_17581296 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>=C7=
=B0</STRONG></SPAN></STRONG>=C3=E6=BD=B2=C1=CB=D4=F5=C3=B4=CA=B9=D3=
=C3=B4=AE=BF=DA=A3=AC=B5=AB=CE=D2=C3=C7=BB=B9=C3=BB=D3=D0=D5=E6=D5=
=FD=CA=B9=D3=C3=B4=AE=BF=DA=C0=B4=B5=F7=CA=D4=A1=A3=D2=BB=B8=F6=D4=
=AD=D2=F2=CA=C7=B4=FA=C2=EB=D2=D1=BE=AD=B5=F7=CA=D4=BA=C3=C1=CB=A3=
=AC=CB=F9=D2=D4=CF=D6=D4=DA=BF=C9=D2=D4=D6=B1=BD=D3=CA=B9=D3=C3=A1=
=A3=D2=F2=CE=AA=CE=D2=C7=B0=C3=E6=CB=B5=B9=FD=A3=AC=CE=D2=D4=DA=BF=
=AA=CA=BC=D0=B4=BD=CC=B3=CC=D6=AE=C7=B0=D2=D1=BE=AD=D4=DA =0AF4=C9=
=CF=C3=E6=D2=C6=D6=B2=C1=CB=C1=BD=B1=E9=C1=CB=A1=A3=B5=AB=CA=C7=BA=
=F3=C3=E6=D4=DA=B6=CB=BF=DA=C5=E4=D6=C3=B5=C4=CA=B1=BA=F2=CE=D2=C3=
=C7=BB=B9=BB=E1=D0=E8=D2=AA=D3=C3=B5=BD=B4=AE=BF=DA=A3=AC=C4=C7=CA=
=B1=BA=F2=CE=D2=C3=C7=D2=AA=D3=C3=B4=AE=BF=DA=C0=B4=CA=E4=B3=F6=C5=
=E4=D6=C3=D0=C5=CF=A2=A1=A3=B6=F8=CF=D6=D4=DA=A3=AC=CE=D2=C3=C7=BE=
=CD=C0=B4=CA=B9=D3=C3 =0ALED=C0=B4=D6=B8=CA=BE=B0=E5=D7=D3=B5=C4=B9=
=A4=D7=F7=D7=B4=CC=AC=A1=A3<BR><BR>&nbsp;&nbsp;&nbsp; <SPAN id=3D=
wiz_font_size_span_28458765 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>=
=CD=AC</STRONG></SPAN>=D1=F9=BD=AB=C9=CF=D2=BB=B2=BD=B5=C4=D4=B4=C2=
=EB=BF=BD=B1=B4=D2=BB=B7=DD=A3=AC=B2=A2=C3=FC=C3=FB=CE=AA=A3=BAUS=
BS_V0.5.21=A1=A3<BR><BR>&nbsp;&nbsp;&nbsp; =0A<STRONG><SPAN id=3D=
wiz_font_size_span_33523515 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>=
=C8=BB</STRONG></SPAN></STRONG>=BA=F3=CE=D2=C3=C7=D4=DA USBS=C4=BF=
=C2=BC=CF=C2=C9=FA=B3=C9 =0ABoard.h=B8=FA Board.c=C1=BD=B8=F6=D4=B4=
=CE=C4=BC=FE=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black=
 1px solid; PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADD=
ING-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: b=
lack 1px solid; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3p=
x; BORDER-BOTTOM: black 1px solid; FONT-FAMILY: Courier New; BACK=
GROUND-COLOR: window; TEXT-ALIGN: left; 3px: "><FONT =0Acolor=3D#=
008000>//board.h</FONT><BR><FONT color=3D#008000>/* Includes =0A-=
-----------------------------------------------------------------=
*/</FONT><BR>#<FONT =0Acolor=3D#0000ff><B>include</B></FONT> <FON=
T =0Acolor=3D#ff00bf>"stm32f4xx.h"</FONT><BR><FONT color=3D#0000f=
f><B>typedef</B></FONT> =0A<FONT color=3D#0000ff><B>enum</B></FON=
T>&nbsp;<BR>{<BR>&nbsp;&nbsp;LED1 <FONT =0Acolor=3D#333399>=3D</F=
ONT> <FONT color=3D#6e00aa>0</FONT>,<BR>&nbsp;&nbsp;LED2 <FONT =0A=
color=3D#333399>=3D</FONT> <FONT color=3D#6e00aa>1</FONT>,<BR>} L=
ed_TypeDef;<BR>#<FONT =0Acolor=3D#0000ff><B>define</B></FONT> =0A=
LEDn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D=
#6e00aa>2</FONT><BR>#<FONT color=3D#0000ff><B>define</B></FONT> =0A=
LED1_PIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_9<BR>#<FONT =0Acolor=3D#0000=
ff><B>define</B></FONT> =0ALED1_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;GPIOF<BR>#<FONT =0Acolor=3D#0000ff><B>de=
fine</B></FONT> =0ALED1_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOF&nbsp;&nbsp;<BR>&nbsp;&=
nbsp;<BR>#<FONT =0Acolor=3D#0000ff><B>define</B></FONT> =0ALED2_P=
IN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;GPIO_Pin_10<BR>#<FONT =0Acolor=3D#0000ff><B=
>define</B></FONT> =0ALED2_GPIO_PORT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;GPIOF<BR>#<FONT =0Acolor=3D#0000ff><B>define<=
/B></FONT> =0ALED2_GPIO_CLK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;RCC_AHB1Periph_GPIOF&nbsp;&nbsp;<BR><FONT =0Acol=
or=3D#0000ff><B>void</B></FONT> Board_LEDInit(Led_TypeDef Led);<B=
R><FONT =0Acolor=3D#0000ff><B>void</B></FONT> Board_LEDOn(Led_Typ=
eDef Led);<BR><FONT =0Acolor=3D#0000ff><B>void</B></FONT> Board_L=
EDOff(Led_TypeDef Led);<BR><FONT =0Acolor=3D#0000ff><B>void</B></=
FONT> Board_LEDToggle(Led_TypeDef Led);<BR><FONT =0Acolor=3D#0080=
00>=0A<HR>=0A// board.c</FONT><BR><FONT color=3D#008000>/* Includ=
es =0A-----------------------------------------------------------=
-------*/</FONT><BR>#<FONT =0Acolor=3D#0000ff><B>include</B></FON=
T> <FONT =0Acolor=3D#ff00bf>"Board.h"</FONT><BR>GPIO_TypeDef<FONT=
 color=3D#333399>*</FONT> =0AGPIO_PORT[LEDn] <FONT color=3D#33339=
9>=3D</FONT> {LED1_GPIO_PORT, =0ALED2_GPIO_PORT};<BR><FONT color=3D=
#0000ff><B>const</B></FONT> uint16_t =0AGPIO_PIN[LEDn] <FONT colo=
r=3D#333399>=3D</FONT> {LED1_PIN, LED2_PIN};<BR><FONT =0Acolor=3D=
#0000ff><B>const</B></FONT> uint32_t GPIO_CLK[LEDn] <FONT =0Acolo=
r=3D#333399>=3D</FONT> {LED1_GPIO_CLK, LED2_GPIO_CLK};<BR><FONT =0A=
color=3D#0000ff><B>void</B></FONT> Board_LEDInit(Led_TypeDef =0AL=
ed)<BR>{<BR>&nbsp;&nbsp;GPIO_InitTypeDef&nbsp;&nbsp;GPIO_InitStru=
cture;<BR>&nbsp;&nbsp;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>/*=
 Enable the GPIO_LED Clock =0A*/</FONT><BR>&nbsp;&nbsp;RCC_AHB1Pe=
riphClockCmd(GPIO_CLK[Led], =0AENABLE);<BR><BR>&nbsp;&nbsp;<FONT=20=
color=3D#008000>/* Configure the GPIO_LED pin =0A*/</FONT><BR>&nb=
sp;&nbsp;GPIO_InitStructure.GPIO_Pin <FONT =0Acolor=3D#333399>=3D=
</FONT> =0AGPIO_PIN[Led];<BR>&nbsp;&nbsp;GPIO_InitStructure.GPIO_=
Mode <FONT =0Acolor=3D#333399>=3D</FONT> =0AGPIO_Mode_OUT;<BR>&nb=
sp;&nbsp;GPIO_InitStructure.GPIO_OType <FONT =0Acolor=3D#333399>=3D=
</FONT> =0AGPIO_OType_PP;<BR>&nbsp;&nbsp;GPIO_InitStructure.GPIO_=
PuPd <FONT =0Acolor=3D#333399>=3D</FONT> =0AGPIO_PuPd_UP;<BR>&nbs=
p;&nbsp;GPIO_InitStructure.GPIO_Speed <FONT =0Acolor=3D#333399>=3D=
</FONT> =0AGPIO_Speed_50MHz;<BR>&nbsp;&nbsp;GPIO_Init(GPIO_PORT[L=
ed], <FONT =0Acolor=3D#333399>&amp;</FONT>GPIO_InitStructure);<BR=
>}<BR><FONT =0Acolor=3D#0000ff><B>void</B></FONT> Board_LEDOn(Led=
_TypeDef =0ALed)<BR>{<BR>&nbsp;&nbsp;GPIO_PORT[Led]<FONT color=3D=
#333399>-</FONT><FONT =0Acolor=3D#333399>&gt;</FONT>BSRRL <FONT c=
olor=3D#333399>=3D</FONT> =0AGPIO_PIN[Led];<BR>}<BR><FONT color=3D=
#0000ff><B>void</B></FONT> =0ABoard_LEDOff(Led_TypeDef Led)<BR>{<=
BR>&nbsp;&nbsp;GPIO_PORT[Led]<FONT =0Acolor=3D#333399>-</FONT><FO=
NT color=3D#333399>&gt;</FONT>BSRRH <FONT =0Acolor=3D#333399>=3D<=
/FONT> GPIO_PIN[Led];&nbsp;&nbsp;<BR>}<BR><FONT =0Acolor=3D#0000f=
f><B>void</B></FONT> Board_LEDToggle(Led_TypeDef =0ALed)<BR>{<BR>=
&nbsp;&nbsp;GPIO_PORT[Led]<FONT color=3D#333399>-</FONT><FONT =0A=
color=3D#333399>&gt;</FONT>ODR <FONT color=3D#333399>^=3D</FONT>=20=
=0AGPIO_PIN[Led];<BR>}</DIV>=0A<P class=3DMsoNormal =0Astyle=3D"M=
ARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5=
; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHIT=
E-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: a=
uto; webkit-text-stroke-width: 0px"><BR>=D5=E2=B6=CE=B4=FA=C2=EB=BF=
=C9=D2=D4=B2=CE=BF=BC =0AST=B5=C4=B0=E5=D7=D3=BD=F8=D0=D0=D0=DE=B8=
=C4=A3=AC=BB=F9=B1=BE=C9=CF=B8=C4=CF=C2=B6=CB=BF=DA=BE=CD=BF=C9=D2=
=D4=C1=CB=A1=A3=C8=BB=BA=F3=BD=AB main=BA=AF=CA=FD=B8=C4=CE=AA=A3=
=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid; PAD=
DING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3px;=20=
FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px solid;=
 COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTO=
M: black 1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: w=
indow; TEXT-ALIGN: left; 3px: "><FONT =0Acolor=3D#0000ff><B>int</=
B></FONT> main(<FONT =0Acolor=3D#0000ff><B>void</B></FONT>)<BR>{<=
BR>&nbsp;&nbsp;__IO uint32_t i <FONT =0Acolor=3D#333399>=3D</FONT=
> <FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&nbsp;&nbsp;uart_init(<FO=
NT =0Acolor=3D#6e00aa>115200</FONT>);<BR>&nbsp;&nbsp;printf(<FONT=
 =0Acolor=3D#ff00bf>"QiFreeUSBS version %s.%s.%s\r\n"</FONT>, VER=
SION, PATCHLEVEL, =0ASUBLEVEL);<BR>&nbsp;&nbsp;Board_LEDInit(LED1=
);<BR>&nbsp;&nbsp;Board_LEDInit(LED2);<BR>&nbsp;&nbsp;USBD_Init(<=
FONT =0Acolor=3D#333399>&amp;</FONT>USB_OTG_dev,<BR>#<FONT =0Acol=
or=3D#0000ff><B>ifdef</B></FONT> =0AUSE_USB_OTG_HS&nbsp;<BR>&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;USB_OTG_HS_CORE_ID,<BR>#<FONT =0Acolor=3D#0000ff><B>else</B></F=
ONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;USB_OTG_FS_CORE_ID,<BR>#<FONT =0Acolor=3D#0=
000ff><B>endif</B></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#3333=
99>&amp;</FONT>USR_desc,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#333399>&amp;=
</FONT>USBD_MSC_cb,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#333399>&amp=
;</FONT>USR_cb);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>while=
</B></FONT> (<FONT =0Acolor=3D#6e00aa>1</FONT>)<BR>&nbsp;&nbsp;{<=
BR>&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FO=
NT> (i<FONT color=3D#333399>++</FONT> <FONT =0Acolor=3D#333399>=3D=
=3D</FONT> =0A0x100000)<BR>&nbsp;&nbsp;&nbsp;&nbsp;{<BR>&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;Board_LEDToggle(LED1);<BR>&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;Board_LEDToggle(LED2);<BR>&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;i =0A<FONT color=3D#333399>=3D</FONT> <FONT=20=
=0Acolor=3D#6e00aa>0</FONT>;<BR>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&n=
bsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;}<BR>} =0A</DIV>=0A<P class=3DMso=
Normal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT:=20=
12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0);=20=
TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; or=
phans: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=D5=
=E2=D1=F9=CE=D2=C3=C7=D4=D9=D2=BB=B4=CE =0Abuild=B2=A2 Download=A3=
=AC=CE=D2=C3=C7=BE=CD=BF=C9=D2=D4=BF=B4=B5=BD LED=D4=DA=C9=C1=CB=B8=
=C1=CB=A1=A3=B5=B1=C8=BB=D5=E2=C0=EF =0ALED=B5=C4=B6=CB=BF=DA=CA=C7=
=CE=D2=B5=C4=B0=E5=D7=D3=B5=C4=B6=CB=BF=DA=A3=AC=C4=E3=D4=DA=CA=B5=
=BC=CA=CA=B9=D3=C3=B5=C4=CA=B1=BA=F2=D0=E8=D2=AA=B8=C4=CE=AA=C4=E3=
=D7=D4=BC=BA=B5=C4=B0=E5=D7=D3=B5=C4=B6=CB=BF=DA=A1=A3<BR><BR>&nb=
sp;&nbsp;&nbsp; <STRONG><SPAN =0Aid=3Dwiz_font_size_span_33530953=
 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>=C6=E4</STRONG></SPAN></STR=
ONG>=CA=B5=D4=DA=D5=E2=C0=EF=CE=D2=C3=C7=BB=B9=BF=C9=D2=D4=D4=F6=BC=
=D3=D2=BB=B8=F6 =0Adelay=BA=AF=CA=FD=A3=AC=B5=B1=C8=BB=CA=C7=CA=B9=
=D3=C3=C8=ED=BC=FE=D1=D3=CA=B1=A3=BA<BR></P>=0A<DIV =0Astyle=3D"B=
ORDER-RIGHT: black 1px solid; PADDING-RIGHT: 3px; BORDER-TOP: bla=
ck 1px solid; PADDING-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT: au=
to; BORDER-LEFT: black 1px solid; COLOR: black; MARGIN-RIGHT: aut=
o; PADDING-TOP: 3px; BORDER-BOTTOM: black 1px solid; FONT-FAMILY:=
 Courier New; BACKGROUND-COLOR: window; TEXT-ALIGN: left; 3px: ">=
<FONT =0Acolor=3D#0000ff><B>void</B></FONT> delay_ms(<FONT color=3D=
#0000ff><B>int</B></FONT> =0Ams)<BR>{<BR>&nbsp;<FONT color=3D#000=
0ff><B>int</B></FONT> ms1<FONT =0Acolor=3D#333399>=3D</FONT><FONT=
 color=3D#6e00aa>0</FONT>;<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>w=
hile</B></FONT>(ms<FONT color=3D#333399>&gt;</FONT><FONT =0Acolor=
=3D#6e00aa>0</FONT>)<BR>&nbsp;{<BR>&nbsp;&nbsp;ms<FONT =0Acolor=3D=
#333399>--</FONT>;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>for=
</B></FONT>(ms1<FONT color=3D#333399>=3D</FONT><FONT =0Acolor=3D#=
6e00aa>0</FONT>; ms1<FONT color=3D#333399>&lt;</FONT><FONT =0Acol=
or=3D#6e00aa>12000</FONT>; ms1<FONT =0Acolor=3D#333399>++</FONT>)=
;<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>for</B></FONT>(ms1<F=
ONT color=3D#333399>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>;=20=
ms1<FONT color=3D#333399>&lt;</FONT><FONT =0Acolor=3D#6e00aa>1200=
0</FONT>; ms1<FONT =0Acolor=3D#333399>++</FONT>);<BR>&nbsp;&nbsp;=
<FONT =0Acolor=3D#0000ff><B>for</B></FONT>(ms1<FONT color=3D#3333=
99>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>; ms1<FONT color=3D=
#333399>&lt;</FONT><FONT =0Acolor=3D#6e00aa>12000</FONT>; ms1<FON=
T =0Acolor=3D#333399>++</FONT>);<BR>&nbsp;&nbsp;<FONT =0Acolor=3D=
#0000ff><B>for</B></FONT>(ms1<FONT color=3D#333399>=3D</FONT><FON=
T =0Acolor=3D#6e00aa>0</FONT>; ms1<FONT color=3D#333399>&lt;</FON=
T><FONT =0Acolor=3D#6e00aa>6000</FONT>; ms1<FONT =0Acolor=3D#3333=
99>++</FONT>);<BR>&nbsp;}<BR>}</DIV>=0A<P class=3DMsoNormal =0Ast=
yle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=
=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT:=20=
0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto;=20=
widows: auto; webkit-text-stroke-width: 0px"><BR>12000=CA=C7=CE=D2=
=D6=AE=C7=B0=D4=DA =0AF103=C9=CF=C3=E6=D3=C3=CA=BE=B2=A8=C6=F7=B2=
=E2=C1=BF=B5=C4=BA=DC=D7=BC=B5=C4 1ms=A3=AC=B5=B1=CA=B1=D6=F7=C6=B5=
=CA=C7 48M=A3=AC=CB=F9=D2=D4=CE=D2=D6=B1=BD=D3=BE=CD=B0=B4=D5=D5=D6=
=F7=C6=B5=B5=C4=B1=B6=CA=FD=B5=FE=BC=D3=C9=CF=C0=B4=C1=CB=A1=A3=C8=
=BB=BA=F3=CE=D2=C3=C7=BE=CD=BF=C9=D2=D4=B0=D1 main=BA=AF=CA=FD=B8=
=C4=CE=AA=A3=BA<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1p=
x solid; PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING=
-LEFT: 3px; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: blac=
k 1px solid; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px;=20=
BORDER-BOTTOM: black 1px solid; FONT-FAMILY: Courier New; BACKGRO=
UND-COLOR: window; TEXT-ALIGN: left; 3px: "><FONT =0Acolor=3D#000=
0ff><B>int</B></FONT> main(<FONT =0Acolor=3D#0000ff><B>void</B></=
FONT>)<BR>{<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#008000>/*!&lt; At th=
is stage the microcontroller clock setting is already =0Aconfigur=
ed,&nbsp;<BR>&nbsp;&nbsp;this is done through SystemInit() functi=
on =0Awhich is called from startup<BR>&nbsp;&nbsp;file (startup_s=
tm32fxxx_xx.s) before =0Ato branch to application main.<BR>&nbsp;=
&nbsp;To reconfigure the default setting =0Aof SystemInit() funct=
ion, refer to<BR>&nbsp;&nbsp;system_stm32fxxx.c =0Afile<BR>&nbsp;=
&nbsp;*/</FONT>&nbsp;<BR>&nbsp;&nbsp;uart_init(<FONT =0Acolor=3D#=
6e00aa>115200</FONT>);<BR>&nbsp;&nbsp;printf(<FONT =0Acolor=3D#ff=
00bf>"QiFreeUSBS version %s.%s.%s\r\n"</FONT>, VERSION, PATCHLEVE=
L, =0ASUBLEVEL);<BR>&nbsp;&nbsp;Board_LEDInit(LED1);<BR>&nbsp;&nb=
sp;Board_LEDInit(LED2);<BR>&nbsp;&nbsp;USBD_Init(<FONT =0Acolor=3D=
#333399>&amp;</FONT>USB_OTG_dev,<BR>#<FONT =0Acolor=3D#0000ff><B>=
ifdef</B></FONT> =0AUSE_USB_OTG_HS&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;USB_OTG_HS_COR=
E_ID,<BR>#<FONT =0Acolor=3D#0000ff><B>else</B></FONT>&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;USB_OTG_FS_CORE_ID,<BR>#<FONT =0Acolor=3D#0000ff><B>endif</=
B></FONT>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#333399>&amp;</FONT>U=
SR_desc,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#333399>&amp;</FONT>USBD_MSC_=
cb,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;<FONT =0Acolor=3D#333399>&amp;</FONT>USR_cb);=
<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>while</B></FONT> (<FO=
NT =0Acolor=3D#6e00aa>1</FONT>)<BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;Board_LEDToggle(LED1);<BR>&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;Board_LEDToggle(LED2);<BR>&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;delay_ms(<FONT =0Acolor=3D#6e00aa>500</FONT>);&n=
bsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;}<BR>} </DIV>=0A<P class=3DMsoNor=
mal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FONT: 12p=
x/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEX=
T-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orpha=
ns: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=B5=BD=
=D5=E2=C0=EF=CE=D2=C3=C7=B5=C4 =0ALED=D7=B4=CC=AC=D6=B8=CA=BE=BE=CD=
=CD=EA=B3=C9=C1=CB=A1=A3<BR><BR><BR><BR><BR></P></BODY></HTML>=0A=


------=_Next_Part_0058331656.145--

------=_Next_Part_0174994968.705--

