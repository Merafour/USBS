From: WizBrother WizMime<support@wizbrother.com>
Subject: =?gb2312?B?VVNCU9LG1rIgU1RNMzJGNCBOTzejurTFxczW2Laoz/I=?=
Date: Date: Fri, 19 Jun 2015 01:03:21 +0800
MIME-Version: 1.0
Content-Type: multipart/related;
	type="multipart/alternative";
	boundary="----=_Next_Part_0174995109.281"

This is a multi-part message in MIME format.

------=_Next_Part_0174995109.281
Content-Type: multipart/alternative;
	boundary="----=_Next_Part_0058331703.827"


------=_Next_Part_0058331703.827
Content-Type: text/plain;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

This is a multi-part message in MIME format.

------=_Next_Part_0058331703.827
Content-Type: text/html;
	charset="gb2312"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">=0A=
<HTML><HEAD>=0D=0A<meta http-equiv=3D"Content-Type" content=3D"te=
xt/html; charset=3Dgb2312"><TITLE>USBS=D2=C6=D6=B2 STM32F4 NO7=A3=
=BA=B4=C5=C5=CC=D6=D8=B6=A8=CF=F2</TITLE>=0A=0A<STYLE type=3Dtext=
/css>=0Abody, p, th, td, li, ul, ol, h1, h2, h3, h4, h5, h6, pre=0A=
{=0A	font-family: =CB=CE=CC=E5;=0A	line-height: 1.4;=0A}=0Abody,=20=
p, th, td, li, ul, ol, pre=0A{=0A	font-size: 12px;=0A}=0A</STYLE>=
=0A=0A<META content=3D"MSHTML 6.00.2900.6550" name=3DGENERATOR></=
HEAD>=0A<BODY><FONT face=3D"Times New Roman"><FONT size=3D7><STRO=
NG>USBS=D2=C6=D6=B2 STM32F4 =0ANO7=A3=BA=B4=C5=C5=CC=D6=D8=B6=A8=CF=
=F2<BR></STRONG></FONT><FONT =0Asize=3D3>&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A--------<SPAN class=
=3DApple-converted-space>&nbsp;</SPAN></FONT></FONT><SPAN =0Astyl=
e=3D"FONT-FAMILY: =CB=CE=CC=E5"><FONT size=3D3>=D7=AA=D4=D8=C7=EB=
=D7=A2=C3=F7=B3=F6=B4=A6<BR><FONT =0Aface=3D"Times New Roman">&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =0A=
--------<SPAN class=3DApple-converted-space>&nbsp;=B8=FC=B6=E0=B1=
=CA=BC=C7=C7=EB=B7=C3=CE=CA=A3=BA<A =0Ahref=3D"http://merafour.bl=
og.163.com/">merafour.blog.163.com</A>&nbsp;</SPAN></FONT></FONT>=
</SPAN> =0A=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0p=
t; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFOR=
M: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal=
; LETTER-SPACING: normal; orphans: auto; widows: auto; webkit-tex=
t-stroke-width: 0px"><FONT =0Asize=3D3><SPAN style=3D"FONT-FAMILY=
: =CB=CE=CC=E5"><SPAN lang=3DEN-US><FONT =0Aface=3D"Times New Rom=
an">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp; =0A</FONT></SPAN></SPAN><SPAN lang=3DEN-US><FONT face=3D"Ti=
mes New Roman">-------- =0A2015-6-16.</FONT></SPAN><SPAN style=3D=
"FONT-FAMILY: =CB=CE=CC=E5">=C0=E4=D4=C2=D7=B7=B7=E7</SPAN><SPAN=20=
=0Alang=3DEN-US><FONT face=3D"Times New Roman"></FONT></SPAN></FO=
NT></P>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; W=
ORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: n=
one; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LE=
TTER-SPACING: normal; orphans: auto; widows: auto; webkit-text-st=
roke-width: 0px"><FONT =0Asize=3D3><SPAN lang=3DEN-US><FONT =0Afa=
ce=3D"Times New Roman"><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN =0Aclass=3DApple-converted-sp=
ace>&nbsp;</SPAN></SPAN>-------- =0Aemail</FONT></SPAN><SPAN styl=
e=3D"FONT-FAMILY: =CB=CE=CC=E5">=A3=BA</SPAN><SPAN lang=3DEN-US><=
FONT =0Aface=3D"Times New Roman"><A =0Ahref=3D"mailto:merafour@16=
3.com">merafour@163.com</A><SPAN =0Aclass=3DApple-converted-space=
>&nbsp;</SPAN></FONT></SPAN></FONT><BR></P>=0A<HR>=0A=0A<P class=3D=
MsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-SPACING: 0px; FON=
T: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0=
); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal;=
 orphans: auto; widows: auto; webkit-text-stroke-width: 0px"><BR>=
<FONT =0Acolor=3D#ff0000>&nbsp;&nbsp;&nbsp; <STRONG><SPAN id=3Dwi=
z_font_size_span_25612281 =0Astyle=3D"FONT-SIZE: 16pt"><STRONG>US=
BS</STRONG></SPAN></STRONG>=D7=EE=B3=F5=CA=C7=B1=CA=D5=DF=BB=F9=D3=
=DA =0ASTM32F103=CF=B5=C1=D0=BF=AA=B7=A2=B3=F6=C0=B4=B5=C4=D2=BB=B8=
=F6 =0Abootloader=A3=AC=CD=A8=B9=FD=B0=D1=C9=E8=B1=B8=D7=F6=B3=C9=
=D2=BB=B8=F6USB=BD=D3=BF=DA=B5=C4=B4=E6=B4=A2=C9=E8=B1=B8=BC=B4U=C5=
=CC=B4=D3=B6=F8=B0=DA=CD=D1=D2=D4=CD=F9=C9=FD=BC=B6=B9=CC=BC=FE=B9=
=FD=B3=CC=D6=D0=CB=F9=D0=E8=D2=AA=B5=C4=C9=CF=CE=BB=BB=FA=B8=FA=C7=
=FD=B6=AF(=BC=B4=C3=E2=C7=FD)=A1=A3USBS=C8=AB=B3=C6=CA=C7=A3=BA"U=
SB =0AStorage"=A3=AC=BE=DF=D3=D0=D2=BB=CF=C2=CC=D8=B5=E3=A3=BA<BR=
><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =D2=BB=A1=A2=D6=BB=
=D2=AA=C4=E3=B5=C4=B2=D9=D7=F7=CF=B5=CD=B3=D6=A7=B3=D6 =0AU=C5=CC=
=D4=AD=D4=F2=C9=CF=B6=BC=BF=C9=D2=D4=CA=B9=D3=C3=A3=AC=C4=BF=C7=B0=
=D2=D1=BE=AD=B2=E2=CA=D4=C1=CB =0AWindows=A1=A2Ubuntu=B8=FA=C6=BB=
=B9=FB=A3=BB<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =B6=FE=
=A1=A2=BF=C9=CD=A8=B9=FD =0APC=B6=CB=C8=ED=BC=FE=C5=E4=D6=C3=CB=F9=
=CA=B9=D3=C3=B5=C4 IO=B2=A2=C9=E8=D6=C3=C6=E4=D3=E0 IO=B5=C4=C4=AC=
=C8=CF=CA=E4=B3=F6=A3=AC=D2=B2=BE=CD=CA=C7=CB=B5=BC=EC=B2=E2 IO=B8=
=FA LED=D6=B8=CA=BE =0AIO=D3=C3=BB=A7=BF=C9=D2=D4=D7=D4=B6=A8=D2=E5=
=A3=BB<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =C8=FD=A1=A2=
=D7=D4=B4=F8=B2=BB=D2=C0=C0=B5=CD=E2=B2=BF EEPROM=B5=C4=BC=D3=C3=DC=
=CB=E3=B7=A8=A3=AC =0A32B=BC=D3=C3=DC=CA=FD=BE=DD=C8=B7=B1=A3=B3=CC=
=D0=F2=B6=C1=B5=BD=C1=ED=CD=E2=D2=BB=BF=C5 IC=C9=CF=B2=BB=C4=DC=D4=
=CB=D0=D0=A3=BB<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =CB=
=C4=A1=A2=CE=AA =0AApp=CC=E1=B9=A9=B5=A5=B6=C0=B5=C4=BC=D3=C3=DC=CB=
=E3=B7=A8(32B)=A3=AC=D3=C3=BB=A7=BF=C9=CD=A8=B9=FD PC=C8=ED=BC=FE=
=C9=E8=D6=C3=BC=D3=C3=DC "licence"=A1=A3</FONT><BR><BR>&nbsp;&nbs=
p;&nbsp; =0A<STRONG><SPAN id=3Dwiz_font_size_span_17581296 =0Asty=
le=3D"FONT-SIZE: 16pt"><STRONG>=BD=F1</STRONG></SPAN></STRONG>=CC=
=EC=CE=D2=C3=C7=BE=CD=C0=B4=C8=C3=CE=D2=C3=C7=B5=C4=B4=C5=C5=CC=BF=
=C9=D2=D4=B6=C1=D0=B4=A1=A3=B2=BB=B9=FD=D4=DA=D7=F6=D5=E2=B8=F6=B9=
=A4=D7=F7=D6=AE=C7=B0=CE=D2=C3=C7=BF=C9=D2=D4=CF=C8=D7=F6=D2=BB=BC=
=FE=CA=C2=A3=AC=BE=CD=CA=C7=B0=D1=D4=B4=CE=C4=BC=FE =0Ausbd_usr.c=
=D6=D0=D3=C9 LCD=CA=E4=B3=F6=B5=C4=D0=C5=CF=A2=CD=A8=B9=FD=B4=AE=BF=
=DA=BD=F8=D0=D0=CA=E4=B3=F6=A1=A3LCD=CA=C7 ST=B5=C4=B0=E5=D7=D3=CA=
=B9=D3=C3=B5=C4=A3=AC=CE=D2=C3=C7=B2=BB=D3=C3=D5=E2=D0=A9=CD=E2=C9=
=E8=A3=AC=CB=F9=D2=D4=D6=AE=C7=B0=D4=DA=B2=C3=BC=F4 =0AST=BF=E2=B5=
=C4=CA=B1=BA=F2=B0=D1=CF=E0=B9=D8=B4=FA=C2=EB=B8=F8=D7=A2=CA=CD=B5=
=F4=C1=CB=A1=A3=BE=DF=CC=E5=D0=DE=B8=C4=B9=FD=B3=CC=CE=D2=D5=E2=C0=
=EF=BE=CD=B2=BB=B6=E0=BD=B2=C1=CB=A3=AC=C6=E4=CA=B5=B8=FA=CE=D2=C3=
=C7=B5=C4=B4=C5=C5=CC=D6=D8=B6=A8=CF=F2=D2=B2=B2=BB=D3=B0=CF=EC=A3=
=AC=D6=BB=CA=C7=C8=C3=CE=D2=C3=C7=BF=C9=D2=D4=B9=DB=B2=EC=B5=BD =0A=
USB=B3=F5=CA=BC=BB=AF=B9=FD=B3=CC=D6=D0=B5=C4=CF=E0=B9=D8=D0=C5=CF=
=A2=A1=A3=BE=DF=CC=E5=BF=C9=D2=D4=CF=C2=D4=D8=CE=D2=B5=C4=B4=FA=C2=
=EB=D7=F7=CE=AA=B2=CE=BF=BC=A1=A3<BR><BR>&nbsp;&nbsp;&nbsp; <SPAN=
 =0Aid=3Dwiz_font_size_span_28458765 =0Astyle=3D"FONT-SIZE: 16pt"=
><STRONG>=CD=AC</STRONG></SPAN>=D1=F9=BD=AB=C9=CF=D2=BB=B2=BD=B5=C4=
=D4=B4=C2=EB=BF=BD=B1=B4=D2=BB=B7=DD=A3=AC=B2=A2=C3=FC=C3=FB=CE=AA=
=A3=BAUSBS_V0.6.21=A1=A3<BR><BR>&nbsp;&nbsp;&nbsp; =0A<STRONG><SP=
AN id=3Dwiz_font_size_span_4635250 =0Astyle=3D"FONT-SIZE: 16pt"><=
STRONG>=C8=BB</STRONG></SPAN></STRONG>=BA=F3=D4=DA USBS=C4=BF=C2=BC=
=C9=FA=B3=C9=D4=B4=CE=C4=BC=FE SRAM.h=B8=FA =0ASRAM.c=A3=BA<BR></=
P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid; PADDING-RIGH=
T: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3px; FONT-SIZE=
: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px solid; COLOR: b=
lack; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BOTTOM: black=20=
1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR: window; TE=
XT-ALIGN: left; 3px: "><FONT =0Acolor=3D#008000>//SRAM.h</FONT><B=
R>#<FONT color=3D#0000ff><B>include</B></FONT> =0A<FONT color=3D#=
333399>&lt;</FONT>stdint.h<FONT color=3D#333399>&gt;</FONT><BR>#<=
FONT =0Acolor=3D#0000ff><B>define</B></FONT> SRAM_LEN_K&nbsp;&nbs=
p;<FONT =0Acolor=3D#6e00aa>32</FONT><BR><FONT color=3D#0000ff><B>=
extern</B></FONT> <FONT =0Acolor=3D#0000ff><B>void</B></FONT> SRA=
M_Init(<FONT =0Acolor=3D#0000ff><B>void</B></FONT>);<BR><FONT col=
or=3D#0000ff><B>extern</B></FONT> =0A<FONT color=3D#0000ff><B>int=
</B></FONT> SRAM_Write(uint8_t<FONT =0Acolor=3D#333399>*</FONT> p=
Buffer, uint32_t WriteAddr, uint16_t NumByteToWrite) =0A;<BR><FON=
T color=3D#0000ff><B>extern</B></FONT> <FONT =0Acolor=3D#0000ff><=
B>int</B></FONT> SRAM_Read(uint8_t<FONT color=3D#333399>*</FONT>=20=
=0ApBuffer, uint32_t ReadAddr, uint16_t NumByteToRead) ;<BR><FONT=
 =0Acolor=3D#0000ff><B>extern</B></FONT> uint8_t<FONT color=3D#33=
3399>*</FONT> =0AGetRAM(<FONT color=3D#0000ff><B>void</B></FONT>)=
;<BR><FONT color=3D#008000>=0A<HR>=0A//SRAM.c</FONT><BR>#<FONT co=
lor=3D#0000ff><B>include</B></FONT> <FONT =0Acolor=3D#ff00bf>"SRA=
M.h"</FONT><BR>#<FONT color=3D#0000ff><B>include</B></FONT> =0A<F=
ONT color=3D#ff00bf>"log.h"</FONT><BR><FONT color=3D#0000ff><B>st=
atic</B></FONT> =0Auint8_t SRAM_BUF[SRAM_LEN_K<FONT color=3D#3333=
99>*</FONT><FONT =0Acolor=3D#6e00aa>1024</FONT>]<FONT color=3D#33=
3399>=3D</FONT>{<FONT =0Acolor=3D#6e00aa>0</FONT>};<BR>uint8_t<FO=
NT color=3D#333399>*</FONT> GetRAM(<FONT =0Acolor=3D#0000ff><B>vo=
id</B></FONT>)<BR>{<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>return</=
B></FONT> SRAM_BUF;<BR>}<BR><FONT =0Acolor=3D#0000ff><B>void</B><=
/FONT> SRAM_Init(<FONT =0Acolor=3D#0000ff><B>void</B></FONT>)<BR>=
{<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>int</B></FONT> i <FONT col=
or=3D#333399>=3D</FONT> <FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&nb=
sp;<FONT color=3D#0000ff><B>for</B></FONT>(i<FONT =0Acolor=3D#333=
399>=3D</FONT><FONT color=3D#6e00aa>0</FONT>; i<FONT =0Acolor=3D#=
333399>&lt;</FONT>SRAM_LEN_K<FONT color=3D#333399>*</FONT><FONT =0A=
color=3D#6e00aa>1024</FONT>; i<FONT =0Acolor=3D#333399>++</FONT>)=
<BR>&nbsp;{<BR>&nbsp;&nbsp;SRAM_BUF[i] <FONT =0Acolor=3D#333399>=3D=
</FONT> <FONT color=3D#6e00aa>0</FONT>;<BR>&nbsp;}<BR>}<BR><FONT=20=
=0Acolor=3D#0000ff><B>int</B></FONT> SRAM_Write(uint8_t<FONT colo=
r=3D#333399>*</FONT> =0ApBuffer, uint32_t WriteAddr, uint16_t =0A=
NumByteToWrite)&nbsp;&nbsp;&nbsp;<BR>{&nbsp;<BR>&nbsp;<FONT =0Aco=
lor=3D#0000ff><B>int</B></FONT> i<FONT color=3D#333399>=3D</FONT>=
<FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&nbsp;dprintf(<FONT color=3D=
#ff00bf>"WriteAddr: =0A%08X\r\n"</FONT>, WriteAddr);<BR>&nbsp;<FO=
NT =0Acolor=3D#0000ff><B>for</B></FONT>(i<FONT color=3D#333399>=3D=
</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>;i<FONT color=3D#333399>&=
lt;</FONT>NumByteToWrite;i<FONT =0Acolor=3D#333399>++</FONT>)<FON=
T color=3D#008000>// Write =0ASRAM</FONT><BR>&nbsp;{<BR>&nbsp;&nb=
sp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>((WriteAddr<FONT colo=
r=3D#333399>+</FONT>i)<FONT =0Acolor=3D#333399>&gt;</FONT><FONT c=
olor=3D#333399>=3D</FONT><FONT =0Acolor=3D#0000ff><B>sizeof</B></=
FONT>(SRAM_BUF)) <FONT =0Acolor=3D#0000ff><B>return</B></FONT> <F=
ONT color=3D#333399>-</FONT><FONT =0Acolor=3D#6e00aa>1</FONT>;<BR=
>&nbsp;&nbsp;SRAM_BUF[WriteAddr<FONT =0Acolor=3D#333399>+</FONT>i=
] <FONT color=3D#333399>=3D</FONT> =0ApBuffer[i];&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;<BR>&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;<FONT=20=
=0Acolor=3D#0000ff><B>return</B></FONT> <FONT color=3D#6e00aa>0</=
FONT>;<BR>}<BR><FONT =0Acolor=3D#0000ff><B>int</B></FONT> SRAM_Re=
ad(uint8_t<FONT color=3D#333399>*</FONT> =0ApBuffer, uint32_t Rea=
dAddr, uint16_t =0ANumByteToRead)&nbsp;&nbsp;&nbsp;<BR>{&nbsp;<BR=
>&nbsp;<FONT =0Acolor=3D#0000ff><B>int</B></FONT> i<FONT color=3D=
#333399>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>&nbsp;dpr=
intf(<FONT color=3D#ff00bf>"ReadAddr: =0A%08X\r\n"</FONT>, ReadAd=
dr);<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>for</B></FONT>(i<FONT c=
olor=3D#333399>=3D</FONT><FONT =0Acolor=3D#6e00aa>0</FONT>;i<FONT=
 color=3D#333399>&lt;</FONT>NumByteToRead;i<FONT =0Acolor=3D#3333=
99>++</FONT>)<FONT color=3D#008000>// Read =0ASRAM</FONT><BR>&nbs=
p;{<BR>&nbsp;&nbsp;<FONT =0Acolor=3D#0000ff><B>if</B></FONT>((Rea=
dAddr<FONT color=3D#333399>+</FONT>i)<FONT =0Acolor=3D#333399>&gt=
;</FONT><FONT color=3D#333399>=3D</FONT><FONT =0Acolor=3D#0000ff>=
<B>sizeof</B></FONT>(SRAM_BUF)) <FONT =0Acolor=3D#0000ff><B>retur=
n</B></FONT> <FONT color=3D#333399>-</FONT><FONT =0Acolor=3D#6e00=
aa>1</FONT>;<BR>&nbsp;&nbsp;pBuffer[i] <FONT color=3D#333399>=3D<=
/FONT> =0ASRAM_BUF[ReadAddr<FONT =0Acolor=3D#333399>+</FONT>i];&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;<FONT =0Acolor=3D#000=
0ff><B>return</B></FONT> <FONT color=3D#6e00aa>0</FONT>;<BR>}</DI=
V>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm 0pt; WORD-S=
PACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANSFORM: none;=20=
COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-=
SPACING: normal; orphans: auto; widows: auto; webkit-text-stroke-=
width: 0px"><BR>32K =0A=CA=C7=D2=BB=BC=FE=BC=C6=CB=E3=BA=C3=B5=C4=
=B4=F3=D0=A1=A1=A3=D2=F2=CE=AA=CE=D2=B2=E9=B9=FD=D1=A1=D0=CD=CA=D6=
=B2=E1 F4=D7=EE=D0=A1 RAM=CE=AA 64K=A3=AC=CB=F9=D2=D4=CE=AA=C1=CB=
=D4=F6=BC=D3=B4=FA=C2=EB=B5=C4=CD=A8=D3=C3=D0=D4=A3=AC=CE=D2=B0=B4=
=D5=D5 64K SRAM=C9=E8=BC=C6=B4=FA=C2=EB=A1=A3=B6=F8=D3=C9=D3=DA =0A=
Flash=C9=C8=C7=F8=B4=F3=B5=C4=D4=AD=D2=F2=A3=AC=BA=F3=C3=E6=CE=D2=
=BE=F5=B5=C3=BD=AB=B3=CC=D0=F2=B7=C5=D4=DA SRAM=C0=EF=D4=CB=D0=D0=
=A3=AC=D0=E8=D2=AA 24K=A3=AC=D7=EE=BA=F3 8K=BE=CD=CA=C7=B3=CC=D0=F2=
=D6=D0=CA=B5=BC=CA=CB=F9=CA=B9=D3=C3=B5=C4 RAM=B4=F3=D0=A1=C1=CB=A3=
=AC=BC=B4 =0A(24+32+8)=A1=A3=B5=B1=C8=BB=C8=E7=B9=FB=C4=E3=CB=F9=CA=
=B9=D3=C3=B5=C4=D0=BE=C6=AC SRAM=BA=DC=B4=F3=A3=AC=C4=E3=BF=C9=D2=
=D4=D7=D4=BC=BA=D4=DA=D2=C6=D6=B2=B5=C4=CA=B1=BA=F2=CA=CA=B5=B1=C0=
=A9=B4=F3=D5=E2=B8=F6=CA=FD=D7=E9=A3=AC=D5=E2=B8=F6=CA=C7=D3=D0=BA=
=C3=B4=A6=B5=C4=A3=AC=B5=AB=B9=C0=BC=C6=B2=BB=C3=F7=CF=D4=A3=AC=D2=
=F2=CE=AA=B8=F9=BE=DD=CE=D2=C4=BF=C7=B0=B5=C4=B2=E2=CA=D4=BD=E1=B9=
=FB =0A32K=D2=D1=BE=AD=B9=BB=D3=C3=C1=CB=A1=A3<BR><BR>&nbsp;&nbsp=
;&nbsp; <STRONG><SPAN id=3Dwiz_font_size_span_5149046 =0Astyle=3D=
"FONT-SIZE: 16pt"><STRONG>=BD=D3</STRONG></SPAN></STRONG>=CF=C2=C0=
=B4=BE=CD=CA=C7=B0=D1 <FONT =0Acolor=3D#008000>SRAM.c</FONT>=CC=ED=
=BC=D3=B5=BD=C4=E3=B5=C4=B9=A4=B3=CC=A3=AC=C8=E7=B9=FB=C4=E3=C3=BB=
=D3=D0=B7=B8=C6=E4=CB=FC=B4=ED=CE=F3=B5=C4=BB=B0=D6=B1=BD=D3 =0Ab=
uild=BE=CD=BF=C9=D2=D4=CD=A8=B9=FD=A1=A3=C8=BB=BA=F3=CE=D2=C3=C7=D2=
=AA=D5=E6=D5=FD=B5=BD=B4=FA=C2=EB=D6=D0=C8=A5=B5=F7=D3=C3=D5=E2=BC=
=B8=B8=F6=BA=AF=CA=FD=A1=A3=D5=E2=D2=BB=B4=CE=CE=D2=C3=C7=D0=DE=B8=
=C4=B5=C4=CA=C7 =0Ausbd_storage_msd.c=D4=B4=CE=C4=BC=FE=A1=A3=CE=D2=
=BE=CD=D6=B1=BD=D3=B8=F8=B3=F6=B8=C4=BA=C3=B5=C4=B4=FA=C2=EB=C1=CB=
=A1=A3<BR></P>=0A<DIV =0Astyle=3D"BORDER-RIGHT: black 1px solid;=20=
PADDING-RIGHT: 3px; BORDER-TOP: black 1px solid; PADDING-LEFT: 3p=
x; FONT-SIZE: 12px; MARGIN-LEFT: auto; BORDER-LEFT: black 1px sol=
id; COLOR: black; MARGIN-RIGHT: auto; PADDING-TOP: 3px; BORDER-BO=
TTOM: black 1px solid; FONT-FAMILY: Courier New; BACKGROUND-COLOR=
: window; TEXT-ALIGN: left; 3px: "><FONT =0Acolor=3D#008000>// us=
bd_storage_msd.c</FONT><BR><FONT =0Acolor=3D#008000>/**<BR>&nbsp;=
&nbsp;* @brief&nbsp;&nbsp;Initialize the storage =0Amedium<BR>&nb=
sp;&nbsp;* @param&nbsp;&nbsp;lun : logical unit =0Anumber<BR>&nbs=
p;&nbsp;* @retval Status<BR>&nbsp;&nbsp;*/</FONT><BR>int8_t =0AST=
ORAGE_Init (uint8_t lun)<BR>{<BR>&nbsp;SRAM_Init();&nbsp;<BR>&nbs=
p;<FONT =0Acolor=3D#0000ff><B>return</B></FONT> (<FONT color=3D#6=
e00aa>0</FONT>);<BR>}<BR><FONT =0Acolor=3D#008000>/**<BR>&nbsp;&n=
bsp;* @brief&nbsp;&nbsp;return medium capacity and =0Ablock size<=
BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;lun : logical unit =0Anumber<B=
R>&nbsp;&nbsp;* @param&nbsp;&nbsp;block_num :&nbsp;&nbsp;number o=
f =0Aphysical block<BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;block_size=
 : size of a =0Aphysical block<BR>&nbsp;&nbsp;* @retval =0AStatus=
<BR>&nbsp;&nbsp;*/</FONT><BR>int8_t STORAGE_GetCapacity (uint8_t=20=
lun, =0Auint32_t <FONT color=3D#333399>*</FONT>block_num, uint32_=
t <FONT =0Acolor=3D#333399>*</FONT>block_size)<BR>{<BR>&nbsp;<FON=
T =0Acolor=3D#333399>*</FONT>block_size <FONT color=3D#333399>=3D=
</FONT>&nbsp;&nbsp;<FONT =0Acolor=3D#6e00aa>512</FONT>;&nbsp;&nbs=
p;&nbsp;<BR>&nbsp;<FONT =0Acolor=3D#333399>*</FONT>block_num <FON=
T =0Acolor=3D#333399>=3D</FONT>&nbsp;&nbsp;(SRAM_LEN_K<FONT color=
=3D#333399>*</FONT><FONT =0Acolor=3D#6e00aa>1024</FONT>) <FONT co=
lor=3D#333399>/</FONT> <FONT =0Acolor=3D#6e00aa>512</FONT>;&nbsp;=
&nbsp;<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>return</B></FONT> (<F=
ONT color=3D#6e00aa>0</FONT>);<BR>}<BR><FONT =0Acolor=3D#008000>/=
**<BR>&nbsp;&nbsp;* @brief&nbsp;&nbsp;check whether the medium is=
 =0Aready<BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;lun : logical unit =0A=
number<BR>&nbsp;&nbsp;* @retval =0AStatus<BR>&nbsp;&nbsp;*/</FONT=
><BR>int8_t&nbsp;&nbsp;STORAGE_IsReady (uint8_t =0Alun)<BR>{<BR>&=
nbsp;<FONT color=3D#0000ff><B>return</B></FONT> (<FONT =0Acolor=3D=
#6e00aa>0</FONT>);<BR>}<BR><FONT color=3D#008000>/**<BR>&nbsp;&nb=
sp;* =0A@brief&nbsp;&nbsp;check whether the medium is write-prote=
cted<BR>&nbsp;&nbsp;* =0A@param&nbsp;&nbsp;lun : logical unit num=
ber<BR>&nbsp;&nbsp;* @retval =0AStatus<BR>&nbsp;&nbsp;*/</FONT><B=
R>int8_t&nbsp;&nbsp;STORAGE_IsWriteProtected =0A(uint8_t lun)<BR>=
{<BR>&nbsp;<FONT =0Acolor=3D#0000ff><B>return</B></FONT>&nbsp;&nb=
sp;<FONT =0Acolor=3D#6e00aa>0</FONT>;<BR>}<BR><FONT color=3D#0080=
00>/**<BR>&nbsp;&nbsp;* =0A@brief&nbsp;&nbsp;Read data from the m=
edium<BR>&nbsp;&nbsp;* =0A@param&nbsp;&nbsp;lun : logical unit nu=
mber<BR>&nbsp;&nbsp;* =0A@param&nbsp;&nbsp;buf : Pointer to the b=
uffer to save data<BR>&nbsp;&nbsp;* =0A@param&nbsp;&nbsp;blk_addr=
 :&nbsp;&nbsp;address of 1st block to be =0Aread<BR>&nbsp;&nbsp;*=
 @param&nbsp;&nbsp;blk_len : nmber of blocks to be =0Aread<BR>&nb=
sp;&nbsp;* @retval Status<BR>&nbsp;&nbsp;*/</FONT><BR>int8_t =0AS=
TORAGE_Read (uint8_t =0Alun,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;uint8_t =0A<FONT =0Acolor=3D#333399>*</FONT>buf,&nbsp;<=
BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint32_t =0Ablk_addr,&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&n=
bsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint16_t =0Ablk_len)=
<BR>{<BR>&nbsp;int8_t ret <FONT color=3D#333399>=3D</FONT> <FONT=20=
=0Acolor=3D#6e00aa>0</FONT>;&nbsp;<BR>&nbsp;ret<FONT =0Acolor=3D#=
333399>=3D</FONT>SRAM_Read(buf, blk_addr<FONT color=3D#333399>*</=
FONT><FONT =0Acolor=3D#6e00aa>512</FONT>, blk_len<FONT color=3D#3=
33399>*</FONT><FONT =0Acolor=3D#6e00aa>512</FONT>) ;<BR>&nbsp;<FO=
NT color=3D#0000ff><B>return</B></FONT> =0Aret;<BR>}<BR><FONT col=
or=3D#008000>/**<BR>&nbsp;&nbsp;* @brief&nbsp;&nbsp;Write =0Adata=
 to the medium<BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;lun : logical u=
nit =0Anumber<BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;buf : Pointer to=
 the buffer to write =0Afrom<BR>&nbsp;&nbsp;* @param&nbsp;&nbsp;b=
lk_addr :&nbsp;&nbsp;address of 1st =0Ablock to be written<BR>&nb=
sp;&nbsp;* @param&nbsp;&nbsp;blk_len : nmber of blocks =0Ato be r=
ead<BR>&nbsp;&nbsp;* @retval Status<BR>&nbsp;&nbsp;*/</FONT><BR>i=
nt8_t =0ASTORAGE_Write (uint8_t =0Alun,&nbsp;<BR>&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;uint8_t =0A<FONT =0Acolor=3D#333399>*<=
/FONT>buf,&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb=
sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ui=
nt32_t =0Ablk_addr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp=
;uint16_t =0Ablk_len)<BR>{<BR>&nbsp;int8_t ret <FONT color=3D#333=
399>=3D</FONT> <FONT =0Acolor=3D#6e00aa>0</FONT>;&nbsp;<BR>&nbsp;=
ret<FONT =0Acolor=3D#333399>=3D</FONT>SRAM_Write(buf, blk_addr<FO=
NT color=3D#333399>*</FONT><FONT =0Acolor=3D#6e00aa>512</FONT>, b=
lk_len<FONT color=3D#333399>*</FONT><FONT =0Acolor=3D#6e00aa>512<=
/FONT>);<BR>&nbsp;<FONT color=3D#0000ff><B>return</B></FONT> =0Ar=
et;<BR>}</DIV>=0A<P class=3DMsoNormal =0Astyle=3D"MARGIN: 0cm 0cm=
 0pt; WORD-SPACING: 0px; FONT: 12px/16px =CB=CE=CC=E5; TEXT-TRANS=
FORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: nor=
mal; LETTER-SPACING: normal; orphans: auto; widows: auto; webkit-=
text-stroke-width: 0px"><BR>=D5=E2=C0=EF=CE=D2=BD=F6=BD=F6=C1=D0=B3=
=F6=C1=CB=CE=D2=C3=C7=D0=E8=D2=AA=D0=DE=B8=C4=B5=C4=B9=D8=BC=FC=BA=
=AF=CA=FD=A3=AC=CD=B7=CE=C4=BC=FE=BE=CD=D7=D4=BC=BA=C8=A5=CC=ED=BC=
=D3=C1=CB=A1=A3=C8=BB=BA=F3 =0Abuild=B2=A2 Download=B5=BD=B0=E5=D7=
=D3=BE=CD=BF=C9=D2=D4=D4=DA=B5=E7=C4=D4=C9=CF=BF=B4=B5=BD=B4=C5=C5=
=CC=B4=F3=D0=A1=CE=AA =0A32K=A3=AC=B8=F1=CA=BD=BB=AF=B5=C4=CA=B1=BA=
=F2=B9=B4=D1=A1=BF=EC=CB=D9=B8=F1=CA=BD=BB=AF=BE=CD=BF=C9=D2=D4=C1=
=CB=A1=A3=B8=F1=CA=BD=BB=AF=BA=C3=C1=CB=BE=CD=BF=C9=D2=D4=D4=DA=C6=
=E4=D6=D0=D0=C2=BD=A8=D2=BB=B8=F6=CE=C4=B1=BE=CE=C4=BC=FE=BF=B4=C4=
=DC=B7=F1=B1=A3=B4=E6=A1=A3=BE=DF=CC=E5=B2=D9=D7=F7=CE=D2=BE=CD=B2=
=BB=BD=D8=CD=BC=C1=CB=A3=AC=D6=F7=D2=AA=CA=C7=B8=F1=CA=BD=BB=AF=B5=
=C4=CA=B1=BA=F2=D0=E8=D2=AA=B9=B4=D1=A1=BF=EC=CB=D9=B8=F1=CA=BD=BB=
=AF=A1=A3=B5=AB=CA=C7=D4=DA=C6=BB=B9=FB=B5=E7=C4=D4=C9=CF=D6=B1=BD=
=D3=C4=A8=B5=F4=BE=CD=BF=C9=D2=D4=C1=CB=A1=A3<BR><BR><BR><BR></P>=
</BODY></HTML>=0A

------=_Next_Part_0058331703.827--

------=_Next_Part_0174995109.281--

